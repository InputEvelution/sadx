.include "macros.s"

.section .text, "ax"  # 0x800058A0 - 0x800764A0 ; 0x00070C00


.global FormatCallback
FormatCallback:
/* 800275B4 000243D4  7C 08 02 A6 */	mflr r0
/* 800275B8 000243D8  90 01 00 04 */	stw r0, 0x4(r1)
/* 800275BC 000243DC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800275C0 000243E0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800275C4 000243E4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800275C8 000243E8  3B C3 00 00 */	addi r30, r3, 0x0
/* 800275CC 000243EC  3C 60 80 0A */	lis r3, __CARDBlock@ha
/* 800275D0 000243F0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800275D4 000243F4  1C BE 01 10 */	mulli r5, r30, 0x110
/* 800275D8 000243F8  93 81 00 10 */	stw r28, 0x10(r1)
/* 800275DC 000243FC  38 03 3D 40 */	addi r0, r3, __CARDBlock@l
/* 800275E0 00024400  7C 9C 23 79 */	mr. r28, r4
/* 800275E4 00024404  7F E0 2A 14 */	add r31, r0, r5
/* 800275E8 00024408  41 80 00 C4 */	blt lbl_800276AC
/* 800275EC 0002440C  80 7F 00 28 */	lwz r3, 0x28(r31)
/* 800275F0 00024410  38 03 00 01 */	addi r0, r3, 0x1
/* 800275F4 00024414  90 1F 00 28 */	stw r0, 0x28(r31)
/* 800275F8 00024418  80 9F 00 28 */	lwz r4, 0x28(r31)
/* 800275FC 0002441C  2C 04 00 05 */	cmpwi r4, 0x5
/* 80027600 00024420  40 80 00 28 */	bge lbl_80027628
/* 80027604 00024424  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 80027608 00024428  3C 60 80 02 */	lis r3, FormatCallback@ha
/* 8002760C 0002442C  38 A3 75 B4 */	addi r5, r3, FormatCallback@l
/* 80027610 00024430  7C 80 21 D6 */	mullw r4, r0, r4
/* 80027614 00024434  38 7E 00 00 */	addi r3, r30, 0x0
/* 80027618 00024438  4B FF C4 2D */	bl __CARDEraseSector
/* 8002761C 0002443C  7C 7C 1B 79 */	mr. r28, r3
/* 80027620 00024440  41 80 00 8C */	blt lbl_800276AC
/* 80027624 00024444  48 00 00 B4 */	b lbl_800276D8
lbl_80027628:
/* 80027628 00024448  2C 04 00 0A */	cmpwi r4, 0xa
/* 8002762C 0002444C  40 80 00 3C */	bge lbl_80027668
/* 80027630 00024450  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 80027634 00024454  38 C4 FF FB */	addi r6, r4, -0x5
/* 80027638 00024458  3C 60 80 02 */	lis r3, FormatCallback@ha
/* 8002763C 0002445C  80 BF 00 80 */	lwz r5, 0x80(r31)
/* 80027640 00024460  7C 80 31 D6 */	mullw r4, r0, r6
/* 80027644 00024464  54 C0 68 24 */	slwi r0, r6, 13
/* 80027648 00024468  38 E3 75 B4 */	addi r7, r3, FormatCallback@l
/* 8002764C 0002446C  7C C5 02 14 */	add r6, r5, r0
/* 80027650 00024470  38 7E 00 00 */	addi r3, r30, 0x0
/* 80027654 00024474  38 A0 20 00 */	li r5, 0x2000
/* 80027658 00024478  4B FF DE 41 */	bl __CARDWrite
/* 8002765C 0002447C  7C 7C 1B 79 */	mr. r28, r3
/* 80027660 00024480  41 80 00 4C */	blt lbl_800276AC
/* 80027664 00024484  48 00 00 74 */	b lbl_800276D8
lbl_80027668:
/* 80027668 00024488  80 7F 00 80 */	lwz r3, 0x80(r31)
/* 8002766C 0002448C  38 A0 20 00 */	li r5, 0x2000
/* 80027670 00024490  38 03 20 00 */	addi r0, r3, 0x2000
/* 80027674 00024494  90 1F 00 84 */	stw r0, 0x84(r31)
/* 80027678 00024498  80 9F 00 80 */	lwz r4, 0x80(r31)
/* 8002767C 0002449C  80 7F 00 84 */	lwz r3, 0x84(r31)
/* 80027680 000244A0  38 84 40 00 */	addi r4, r4, 0x4000
/* 80027684 000244A4  4B FD BB 65 */	bl memcpy
/* 80027688 000244A8  80 7F 00 80 */	lwz r3, 0x80(r31)
/* 8002768C 000244AC  38 A0 20 00 */	li r5, 0x2000
/* 80027690 000244B0  38 03 60 00 */	addi r0, r3, 0x6000
/* 80027694 000244B4  90 1F 00 88 */	stw r0, 0x88(r31)
/* 80027698 000244B8  80 9F 00 80 */	lwz r4, 0x80(r31)
/* 8002769C 000244BC  80 7F 00 88 */	lwz r3, 0x88(r31)
/* 800276A0 000244C0  3C 84 00 01 */	addis r4, r4, 0x1
/* 800276A4 000244C4  38 84 80 00 */	addi r4, r4, -0x8000
/* 800276A8 000244C8  4B FD BB 41 */	bl memcpy
lbl_800276AC:
/* 800276AC 000244CC  83 BF 00 D0 */	lwz r29, 0xd0(r31)
/* 800276B0 000244D0  38 00 00 00 */	li r0, 0x0
/* 800276B4 000244D4  38 7F 00 00 */	addi r3, r31, 0x0
/* 800276B8 000244D8  90 1F 00 D0 */	stw r0, 0xd0(r31)
/* 800276BC 000244DC  7F 84 E3 78 */	mr r4, r28
/* 800276C0 000244E0  4B FF C6 09 */	bl __CARDPutControlBlock
/* 800276C4 000244E4  39 9D 00 00 */	addi r12, r29, 0x0
/* 800276C8 000244E8  7D 88 03 A6 */	mtlr r12
/* 800276CC 000244EC  38 7E 00 00 */	addi r3, r30, 0x0
/* 800276D0 000244F0  38 9C 00 00 */	addi r4, r28, 0x0
/* 800276D4 000244F4  4E 80 00 21 */	blrl
lbl_800276D8:
/* 800276D8 000244F8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800276DC 000244FC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800276E0 00024500  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800276E4 00024504  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800276E8 00024508  83 81 00 10 */	lwz r28, 0x10(r1)
/* 800276EC 0002450C  38 21 00 20 */	addi r1, r1, 0x20
/* 800276F0 00024510  7C 08 03 A6 */	mtlr r0
/* 800276F4 00024514  4E 80 00 20 */	blr

.global __CARDFormatRegionAsync
__CARDFormatRegionAsync:
/* 800276F8 00024518  7C 08 02 A6 */	mflr r0
/* 800276FC 0002451C  90 01 00 04 */	stw r0, 0x4(r1)
/* 80027700 00024520  94 21 FF A8 */	stwu r1, -0x58(r1)
/* 80027704 00024524  BE 41 00 20 */	stmw r18, 0x20(r1)
/* 80027708 00024528  3A 84 00 00 */	addi r20, r4, 0x0
/* 8002770C 0002452C  3A C3 00 00 */	addi r22, r3, 0x0
/* 80027710 00024530  3A 65 00 00 */	addi r19, r5, 0x0
/* 80027714 00024534  38 81 00 18 */	addi r4, r1, 0x18
/* 80027718 00024538  4B FF C4 F9 */	bl __CARDGetControlBlock
/* 8002771C 0002453C  2C 03 00 00 */	cmpwi r3, 0x0
/* 80027720 00024540  40 80 00 08 */	bge lbl_80027728
/* 80027724 00024544  48 00 06 18 */	b lbl_80027D3C
lbl_80027728:
/* 80027728 00024548  80 61 00 18 */	lwz r3, 0x18(r1)
/* 8002772C 0002454C  38 80 00 FF */	li r4, 0xff
/* 80027730 00024550  38 A0 20 00 */	li r5, 0x2000
/* 80027734 00024554  83 63 00 80 */	lwz r27, 0x80(r3)
/* 80027738 00024558  7F 63 DB 78 */	mr r3, r27
/* 8002773C 0002455C  4B FD B9 C5 */	bl memset
/* 80027740 00024560  3C 60 CC 00 */	lis r3, 0xCC00206E@ha
/* 80027744 00024564  A2 43 20 6E */	lhz r18, 0xCC00206E@l(r3)
/* 80027748 00024568  B2 9B 00 24 */	sth r20, 0x24(r27)
/* 8002774C 0002456C  48 01 98 E9 */	bl __OSLockSram
/* 80027750 00024570  80 03 00 0C */	lwz r0, 0xc(r3)
/* 80027754 00024574  90 1B 00 14 */	stw r0, 0x14(r27)
/* 80027758 00024578  88 03 00 12 */	lbz r0, 0x12(r3)
/* 8002775C 0002457C  38 60 00 00 */	li r3, 0x0
/* 80027760 00024580  90 1B 00 18 */	stw r0, 0x18(r27)
/* 80027764 00024584  48 01 9C 91 */	bl __OSUnlockSram
/* 80027768 00024588  48 01 B4 FD */	bl OSGetTime
/* 8002776C 0002458C  3A A4 00 00 */	addi r21, r4, 0x0
/* 80027770 00024590  3A 83 00 00 */	addi r20, r3, 0x0
/* 80027774 00024594  3B 55 00 00 */	addi r26, r21, 0x0
/* 80027778 00024598  3B D4 00 00 */	addi r30, r20, 0x0
/* 8002777C 0002459C  48 01 99 15 */	bl __OSLockSramEx
/* 80027780 000245A0  1C 16 00 0C */	mulli r0, r22, 0xc
/* 80027784 000245A4  7F 23 02 14 */	add r25, r3, r0
/* 80027788 000245A8  3C 60 41 C6 */	lis r3, 0x41c6
/* 8002778C 000245AC  3B 19 00 00 */	addi r24, r25, 0x0
/* 80027790 000245B0  3B E3 4E 6D */	addi r31, r3, 0x4e6d
/* 80027794 000245B4  3B 80 00 00 */	li r28, 0x0
/* 80027798 000245B8  3A E0 00 04 */	li r23, 0x4
/* 8002779C 000245BC  48 00 03 74 */	b lbl_80027B10
lbl_800277A0:
/* 800277A0 000245C0  7C BE F9 D6 */	mullw r5, r30, r31
/* 800277A4 000245C4  7C 7A F8 16 */	mulhwu r3, r26, r31
/* 800277A8 000245C8  3B C0 00 00 */	li r30, 0x0
/* 800277AC 000245CC  7C A5 1A 14 */	add r5, r5, r3
/* 800277B0 000245D0  7C 7A F1 D6 */	mullw r3, r26, r30
/* 800277B4 000245D4  7C 1A F9 D6 */	mullw r0, r26, r31
/* 800277B8 000245D8  3B A0 30 39 */	li r29, 0x3039
/* 800277BC 000245DC  7C 80 E8 14 */	addc r4, r0, r29
/* 800277C0 000245E0  7C 05 1A 14 */	add r0, r5, r3
/* 800277C4 000245E4  7C 60 F1 14 */	adde r3, r0, r30
/* 800277C8 000245E8  38 A0 00 10 */	li r5, 0x10
/* 800277CC 000245EC  4B FD F9 BD */	bl __shr2i
/* 800277D0 000245F0  7C C3 F9 D6 */	mullw r6, r3, r31
/* 800277D4 000245F4  88 18 00 00 */	lbz r0, 0x0(r24)
/* 800277D8 000245F8  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 800277DC 000245FC  7C C6 2A 14 */	add r6, r6, r5
/* 800277E0 00024600  7D 04 00 14 */	addc r8, r4, r0
/* 800277E4 00024604  7F 87 07 34 */	extsh r7, r28
/* 800277E8 00024608  7C A4 F1 D6 */	mullw r5, r4, r30
/* 800277EC 0002460C  7D 1B 39 AE */	stbx r8, r27, r7
/* 800277F0 00024610  7C 04 F9 D6 */	mullw r0, r4, r31
/* 800277F4 00024614  7C 80 E8 14 */	addc r4, r0, r29
/* 800277F8 00024618  7C 06 2A 14 */	add r0, r6, r5
/* 800277FC 0002461C  7C 60 F1 14 */	adde r3, r0, r30
/* 80027800 00024620  38 A0 00 10 */	li r5, 0x10
/* 80027804 00024624  4B FD F9 85 */	bl __shr2i
/* 80027808 00024628  3B 40 7F FF */	li r26, 0x7fff
/* 8002780C 0002462C  7C 60 F0 38 */	and r0, r3, r30
/* 80027810 00024630  7C 84 D0 38 */	and r4, r4, r26
/* 80027814 00024634  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80027818 00024638  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 8002781C 0002463C  7C A5 1A 14 */	add r5, r5, r3
/* 80027820 00024640  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80027824 00024644  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027828 00024648  7C 80 E8 14 */	addc r4, r0, r29
/* 8002782C 0002464C  7C 05 1A 14 */	add r0, r5, r3
/* 80027830 00024650  7C 60 F1 14 */	adde r3, r0, r30
/* 80027834 00024654  38 A0 00 10 */	li r5, 0x10
/* 80027838 00024658  4B FD F9 51 */	bl __shr2i
/* 8002783C 0002465C  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80027840 00024660  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80027844 00024664  39 3C 00 01 */	addi r9, r28, 0x1
/* 80027848 00024668  7D 29 07 34 */	extsh r9, r9
/* 8002784C 0002466C  7C 19 48 AE */	lbzx r0, r25, r9
/* 80027850 00024670  7C C6 2A 14 */	add r6, r6, r5
/* 80027854 00024674  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80027858 00024678  7C E4 00 14 */	addc r7, r4, r0
/* 8002785C 0002467C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027860 00024680  7C FB 49 AE */	stbx r7, r27, r9
/* 80027864 00024684  7C 80 E8 14 */	addc r4, r0, r29
/* 80027868 00024688  7C 06 2A 14 */	add r0, r6, r5
/* 8002786C 0002468C  7C 60 F1 14 */	adde r3, r0, r30
/* 80027870 00024690  38 A0 00 10 */	li r5, 0x10
/* 80027874 00024694  4B FD F9 15 */	bl __shr2i
/* 80027878 00024698  7C 60 F0 38 */	and r0, r3, r30
/* 8002787C 0002469C  7C 84 D0 38 */	and r4, r4, r26
/* 80027880 000246A0  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80027884 000246A4  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80027888 000246A8  7C A5 1A 14 */	add r5, r5, r3
/* 8002788C 000246AC  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80027890 000246B0  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027894 000246B4  7C 80 E8 14 */	addc r4, r0, r29
/* 80027898 000246B8  7C 05 1A 14 */	add r0, r5, r3
/* 8002789C 000246BC  7C 60 F1 14 */	adde r3, r0, r30
/* 800278A0 000246C0  38 A0 00 10 */	li r5, 0x10
/* 800278A4 000246C4  4B FD F8 E5 */	bl __shr2i
/* 800278A8 000246C8  7C C3 F9 D6 */	mullw r6, r3, r31
/* 800278AC 000246CC  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 800278B0 000246D0  39 3C 00 02 */	addi r9, r28, 0x2
/* 800278B4 000246D4  7D 29 07 34 */	extsh r9, r9
/* 800278B8 000246D8  7C 19 48 AE */	lbzx r0, r25, r9
/* 800278BC 000246DC  7C C6 2A 14 */	add r6, r6, r5
/* 800278C0 000246E0  7C A4 F1 D6 */	mullw r5, r4, r30
/* 800278C4 000246E4  7C E4 00 14 */	addc r7, r4, r0
/* 800278C8 000246E8  7C 04 F9 D6 */	mullw r0, r4, r31
/* 800278CC 000246EC  7C FB 49 AE */	stbx r7, r27, r9
/* 800278D0 000246F0  7C 80 E8 14 */	addc r4, r0, r29
/* 800278D4 000246F4  7C 06 2A 14 */	add r0, r6, r5
/* 800278D8 000246F8  7C 60 F1 14 */	adde r3, r0, r30
/* 800278DC 000246FC  38 A0 00 10 */	li r5, 0x10
/* 800278E0 00024700  4B FD F8 A9 */	bl __shr2i
/* 800278E4 00024704  7C 60 F0 38 */	and r0, r3, r30
/* 800278E8 00024708  7C 84 D0 38 */	and r4, r4, r26
/* 800278EC 0002470C  7C A0 F9 D6 */	mullw r5, r0, r31
/* 800278F0 00024710  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 800278F4 00024714  7C A5 1A 14 */	add r5, r5, r3
/* 800278F8 00024718  7C 64 F1 D6 */	mullw r3, r4, r30
/* 800278FC 0002471C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027900 00024720  7C 80 E8 14 */	addc r4, r0, r29
/* 80027904 00024724  7C 05 1A 14 */	add r0, r5, r3
/* 80027908 00024728  7C 60 F1 14 */	adde r3, r0, r30
/* 8002790C 0002472C  38 A0 00 10 */	li r5, 0x10
/* 80027910 00024730  4B FD F8 79 */	bl __shr2i
/* 80027914 00024734  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80027918 00024738  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 8002791C 0002473C  39 3C 00 03 */	addi r9, r28, 0x3
/* 80027920 00024740  7D 29 07 34 */	extsh r9, r9
/* 80027924 00024744  7C 19 48 AE */	lbzx r0, r25, r9
/* 80027928 00024748  7C C6 2A 14 */	add r6, r6, r5
/* 8002792C 0002474C  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80027930 00024750  7C E4 00 14 */	addc r7, r4, r0
/* 80027934 00024754  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027938 00024758  7C FB 49 AE */	stbx r7, r27, r9
/* 8002793C 0002475C  7C 80 E8 14 */	addc r4, r0, r29
/* 80027940 00024760  7C 06 2A 14 */	add r0, r6, r5
/* 80027944 00024764  7C 60 F1 14 */	adde r3, r0, r30
/* 80027948 00024768  38 A0 00 10 */	li r5, 0x10
/* 8002794C 0002476C  4B FD F8 3D */	bl __shr2i
/* 80027950 00024770  7C 60 F0 38 */	and r0, r3, r30
/* 80027954 00024774  7C 84 D0 38 */	and r4, r4, r26
/* 80027958 00024778  7C A0 F9 D6 */	mullw r5, r0, r31
/* 8002795C 0002477C  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80027960 00024780  7C A5 1A 14 */	add r5, r5, r3
/* 80027964 00024784  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80027968 00024788  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8002796C 0002478C  7C 80 E8 14 */	addc r4, r0, r29
/* 80027970 00024790  7C 05 1A 14 */	add r0, r5, r3
/* 80027974 00024794  7C 60 F1 14 */	adde r3, r0, r30
/* 80027978 00024798  38 A0 00 10 */	li r5, 0x10
/* 8002797C 0002479C  4B FD F8 0D */	bl __shr2i
/* 80027980 000247A0  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80027984 000247A4  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80027988 000247A8  39 3C 00 04 */	addi r9, r28, 0x4
/* 8002798C 000247AC  7D 29 07 34 */	extsh r9, r9
/* 80027990 000247B0  7C 19 48 AE */	lbzx r0, r25, r9
/* 80027994 000247B4  7C C6 2A 14 */	add r6, r6, r5
/* 80027998 000247B8  7C A4 F1 D6 */	mullw r5, r4, r30
/* 8002799C 000247BC  7C E4 00 14 */	addc r7, r4, r0
/* 800279A0 000247C0  7C 04 F9 D6 */	mullw r0, r4, r31
/* 800279A4 000247C4  7C FB 49 AE */	stbx r7, r27, r9
/* 800279A8 000247C8  7C 80 E8 14 */	addc r4, r0, r29
/* 800279AC 000247CC  7C 06 2A 14 */	add r0, r6, r5
/* 800279B0 000247D0  7C 60 F1 14 */	adde r3, r0, r30
/* 800279B4 000247D4  38 A0 00 10 */	li r5, 0x10
/* 800279B8 000247D8  4B FD F7 D1 */	bl __shr2i
/* 800279BC 000247DC  7C 60 F0 38 */	and r0, r3, r30
/* 800279C0 000247E0  7C 84 D0 38 */	and r4, r4, r26
/* 800279C4 000247E4  7C A0 F9 D6 */	mullw r5, r0, r31
/* 800279C8 000247E8  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 800279CC 000247EC  7C A5 1A 14 */	add r5, r5, r3
/* 800279D0 000247F0  7C 64 F1 D6 */	mullw r3, r4, r30
/* 800279D4 000247F4  7C 04 F9 D6 */	mullw r0, r4, r31
/* 800279D8 000247F8  7C 80 E8 14 */	addc r4, r0, r29
/* 800279DC 000247FC  7C 05 1A 14 */	add r0, r5, r3
/* 800279E0 00024800  7C 60 F1 14 */	adde r3, r0, r30
/* 800279E4 00024804  38 A0 00 10 */	li r5, 0x10
/* 800279E8 00024808  4B FD F7 A1 */	bl __shr2i
/* 800279EC 0002480C  7C C3 F9 D6 */	mullw r6, r3, r31
/* 800279F0 00024810  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 800279F4 00024814  39 3C 00 05 */	addi r9, r28, 0x5
/* 800279F8 00024818  7D 29 07 34 */	extsh r9, r9
/* 800279FC 0002481C  7C 19 48 AE */	lbzx r0, r25, r9
/* 80027A00 00024820  7C C6 2A 14 */	add r6, r6, r5
/* 80027A04 00024824  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80027A08 00024828  7C E4 00 14 */	addc r7, r4, r0
/* 80027A0C 0002482C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027A10 00024830  7C FB 49 AE */	stbx r7, r27, r9
/* 80027A14 00024834  7C 80 E8 14 */	addc r4, r0, r29
/* 80027A18 00024838  7C 06 2A 14 */	add r0, r6, r5
/* 80027A1C 0002483C  7C 60 F1 14 */	adde r3, r0, r30
/* 80027A20 00024840  38 A0 00 10 */	li r5, 0x10
/* 80027A24 00024844  4B FD F7 65 */	bl __shr2i
/* 80027A28 00024848  7C 60 F0 38 */	and r0, r3, r30
/* 80027A2C 0002484C  7C 84 D0 38 */	and r4, r4, r26
/* 80027A30 00024850  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80027A34 00024854  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80027A38 00024858  7C A5 1A 14 */	add r5, r5, r3
/* 80027A3C 0002485C  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80027A40 00024860  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027A44 00024864  7C 80 E8 14 */	addc r4, r0, r29
/* 80027A48 00024868  7C 05 1A 14 */	add r0, r5, r3
/* 80027A4C 0002486C  7C 60 F1 14 */	adde r3, r0, r30
/* 80027A50 00024870  38 A0 00 10 */	li r5, 0x10
/* 80027A54 00024874  4B FD F7 35 */	bl __shr2i
/* 80027A58 00024878  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80027A5C 0002487C  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80027A60 00024880  39 3C 00 06 */	addi r9, r28, 0x6
/* 80027A64 00024884  7D 29 07 34 */	extsh r9, r9
/* 80027A68 00024888  7C 19 48 AE */	lbzx r0, r25, r9
/* 80027A6C 0002488C  7C C6 2A 14 */	add r6, r6, r5
/* 80027A70 00024890  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80027A74 00024894  7C E4 00 14 */	addc r7, r4, r0
/* 80027A78 00024898  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027A7C 0002489C  7C FB 49 AE */	stbx r7, r27, r9
/* 80027A80 000248A0  7C 80 E8 14 */	addc r4, r0, r29
/* 80027A84 000248A4  7C 06 2A 14 */	add r0, r6, r5
/* 80027A88 000248A8  7C 60 F1 14 */	adde r3, r0, r30
/* 80027A8C 000248AC  38 A0 00 10 */	li r5, 0x10
/* 80027A90 000248B0  4B FD F6 F9 */	bl __shr2i
/* 80027A94 000248B4  7C 60 F0 38 */	and r0, r3, r30
/* 80027A98 000248B8  7C 84 D0 38 */	and r4, r4, r26
/* 80027A9C 000248BC  7C A0 F9 D6 */	mullw r5, r0, r31
/* 80027AA0 000248C0  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 80027AA4 000248C4  7C A5 1A 14 */	add r5, r5, r3
/* 80027AA8 000248C8  7C 64 F1 D6 */	mullw r3, r4, r30
/* 80027AAC 000248CC  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027AB0 000248D0  7C 80 E8 14 */	addc r4, r0, r29
/* 80027AB4 000248D4  7C 05 1A 14 */	add r0, r5, r3
/* 80027AB8 000248D8  7C 60 F1 14 */	adde r3, r0, r30
/* 80027ABC 000248DC  38 A0 00 10 */	li r5, 0x10
/* 80027AC0 000248E0  4B FD F6 C9 */	bl __shr2i
/* 80027AC4 000248E4  7C C3 F9 D6 */	mullw r6, r3, r31
/* 80027AC8 000248E8  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 80027ACC 000248EC  39 3C 00 07 */	addi r9, r28, 0x7
/* 80027AD0 000248F0  7D 29 07 34 */	extsh r9, r9
/* 80027AD4 000248F4  7C 19 48 AE */	lbzx r0, r25, r9
/* 80027AD8 000248F8  7C C6 2A 14 */	add r6, r6, r5
/* 80027ADC 000248FC  7C A4 F1 D6 */	mullw r5, r4, r30
/* 80027AE0 00024900  7C E4 00 14 */	addc r7, r4, r0
/* 80027AE4 00024904  7C 04 F9 D6 */	mullw r0, r4, r31
/* 80027AE8 00024908  7C FB 49 AE */	stbx r7, r27, r9
/* 80027AEC 0002490C  7C 80 E8 14 */	addc r4, r0, r29
/* 80027AF0 00024910  7C 06 2A 14 */	add r0, r6, r5
/* 80027AF4 00024914  7C 60 F1 14 */	adde r3, r0, r30
/* 80027AF8 00024918  38 A0 00 10 */	li r5, 0x10
/* 80027AFC 0002491C  4B FD F6 8D */	bl __shr2i
/* 80027B00 00024920  7C 9A D0 38 */	and r26, r4, r26
/* 80027B04 00024924  7C 7E F0 38 */	and r30, r3, r30
/* 80027B08 00024928  3B 18 00 08 */	addi r24, r24, 0x8
/* 80027B0C 0002492C  3B 9C 00 08 */	addi r28, r28, 0x8
lbl_80027B10:
/* 80027B10 00024930  7F 80 07 34 */	extsh r0, r28
/* 80027B14 00024934  7C 00 B8 00 */	cmpw r0, r23
/* 80027B18 00024938  41 80 FC 88 */	blt lbl_800277A0
/* 80027B1C 0002493C  48 00 02 18 */	b lbl_80027D34
lbl_80027B20:
/* 80027B20 00024940  3C 60 41 C6 */	lis r3, 0x41c6
/* 80027B24 00024944  3B 23 4E 6D */	addi r25, r3, 0x4e6d
/* 80027B28 00024948  48 00 00 80 */	b lbl_80027BA8
lbl_80027B2C:
/* 80027B2C 0002494C  7C BE C9 D6 */	mullw r5, r30, r25
/* 80027B30 00024950  7C 7A C8 16 */	mulhwu r3, r26, r25
/* 80027B34 00024954  3B 00 00 00 */	li r24, 0x0
/* 80027B38 00024958  7C A5 1A 14 */	add r5, r5, r3
/* 80027B3C 0002495C  7C 7A C1 D6 */	mullw r3, r26, r24
/* 80027B40 00024960  7C 1A C9 D6 */	mullw r0, r26, r25
/* 80027B44 00024964  3A E0 30 39 */	li r23, 0x3039
/* 80027B48 00024968  7C 80 B8 14 */	addc r4, r0, r23
/* 80027B4C 0002496C  7C 05 1A 14 */	add r0, r5, r3
/* 80027B50 00024970  7C 60 C1 14 */	adde r3, r0, r24
/* 80027B54 00024974  38 A0 00 10 */	li r5, 0x10
/* 80027B58 00024978  4B FD F6 31 */	bl __shr2i
/* 80027B5C 0002497C  7C C3 C9 D6 */	mullw r6, r3, r25
/* 80027B60 00024980  88 1D 00 00 */	lbz r0, 0x0(r29)
/* 80027B64 00024984  7C A4 C8 16 */	mulhwu r5, r4, r25
/* 80027B68 00024988  7C C6 2A 14 */	add r6, r6, r5
/* 80027B6C 0002498C  7D 04 00 14 */	addc r8, r4, r0
/* 80027B70 00024990  7F 87 07 34 */	extsh r7, r28
/* 80027B74 00024994  7C A4 C1 D6 */	mullw r5, r4, r24
/* 80027B78 00024998  7D 1B 39 AE */	stbx r8, r27, r7
/* 80027B7C 0002499C  7C 04 C9 D6 */	mullw r0, r4, r25
/* 80027B80 000249A0  7C 80 B8 14 */	addc r4, r0, r23
/* 80027B84 000249A4  7C 06 2A 14 */	add r0, r6, r5
/* 80027B88 000249A8  7C 60 C1 14 */	adde r3, r0, r24
/* 80027B8C 000249AC  38 A0 00 10 */	li r5, 0x10
/* 80027B90 000249B0  4B FD F5 F9 */	bl __shr2i
/* 80027B94 000249B4  38 00 7F FF */	li r0, 0x7fff
/* 80027B98 000249B8  7C 9A 00 38 */	and r26, r4, r0
/* 80027B9C 000249BC  7C 7E C0 38 */	and r30, r3, r24
/* 80027BA0 000249C0  3B BD 00 01 */	addi r29, r29, 0x1
/* 80027BA4 000249C4  3B 9C 00 01 */	addi r28, r28, 0x1
lbl_80027BA8:
/* 80027BA8 000249C8  7F 80 07 34 */	extsh r0, r28
/* 80027BAC 000249CC  2C 00 00 0C */	cmpwi r0, 0xc
/* 80027BB0 000249D0  41 80 FF 7C */	blt lbl_80027B2C
/* 80027BB4 000249D4  38 60 00 00 */	li r3, 0x0
/* 80027BB8 000249D8  48 01 98 61 */	bl __OSUnlockSramEx
/* 80027BBC 000249DC  92 5B 00 1C */	stw r18, 0x1c(r27)
/* 80027BC0 000249E0  3A 40 00 00 */	li r18, 0x0
/* 80027BC4 000249E4  38 7B 00 00 */	addi r3, r27, 0x0
/* 80027BC8 000249E8  92 BB 00 10 */	stw r21, 0x10(r27)
/* 80027BCC 000249EC  38 BB 01 FC */	addi r5, r27, 0x1fc
/* 80027BD0 000249F0  38 DB 01 FE */	addi r6, r27, 0x1fe
/* 80027BD4 000249F4  92 9B 00 0C */	stw r20, 0xc(r27)
/* 80027BD8 000249F8  38 80 01 FC */	li r4, 0x1fc
/* 80027BDC 000249FC  B2 5B 00 20 */	sth r18, 0x20(r27)
/* 80027BE0 00024A00  80 E1 00 18 */	lwz r7, 0x18(r1)
/* 80027BE4 00024A04  A0 07 00 08 */	lhz r0, 0x8(r7)
/* 80027BE8 00024A08  B0 1B 00 22 */	sth r0, 0x22(r27)
/* 80027BEC 00024A0C  4B FF DF 79 */	bl __CARDCheckSum
/* 80027BF0 00024A10  48 00 00 4C */	b lbl_80027C3C
lbl_80027BF4:
/* 80027BF4 00024A14  80 81 00 18 */	lwz r4, 0x18(r1)
/* 80027BF8 00024A18  7E 43 07 34 */	extsh r3, r18
/* 80027BFC 00024A1C  38 03 00 01 */	addi r0, r3, 0x1
/* 80027C00 00024A20  80 64 00 80 */	lwz r3, 0x80(r4)
/* 80027C04 00024A24  54 00 68 24 */	slwi r0, r0, 13
/* 80027C08 00024A28  38 80 00 FF */	li r4, 0xff
/* 80027C0C 00024A2C  7E 83 02 14 */	add r20, r3, r0
/* 80027C10 00024A30  38 74 00 00 */	addi r3, r20, 0x0
/* 80027C14 00024A34  38 A0 20 00 */	li r5, 0x2000
/* 80027C18 00024A38  4B FD B4 E9 */	bl memset
/* 80027C1C 00024A3C  38 94 1F C0 */	addi r4, r20, 0x1fc0
/* 80027C20 00024A40  B2 54 1F FA */	sth r18, 0x1ffa(r20)
/* 80027C24 00024A44  38 74 00 00 */	addi r3, r20, 0x0
/* 80027C28 00024A48  38 A4 00 3C */	addi r5, r4, 0x3c
/* 80027C2C 00024A4C  38 C4 00 3E */	addi r6, r4, 0x3e
/* 80027C30 00024A50  38 80 1F FC */	li r4, 0x1ffc
/* 80027C34 00024A54  4B FF DF 31 */	bl __CARDCheckSum
/* 80027C38 00024A58  3A 52 00 01 */	addi r18, r18, 0x1
lbl_80027C3C:
/* 80027C3C 00024A5C  7E 40 07 34 */	extsh r0, r18
/* 80027C40 00024A60  2C 00 00 02 */	cmpwi r0, 0x2
/* 80027C44 00024A64  41 80 FF B0 */	blt lbl_80027BF4
/* 80027C48 00024A68  3A 40 00 00 */	li r18, 0x0
/* 80027C4C 00024A6C  48 00 00 60 */	b lbl_80027CAC
lbl_80027C50:
/* 80027C50 00024A70  80 81 00 18 */	lwz r4, 0x18(r1)
/* 80027C54 00024A74  7E 43 07 34 */	extsh r3, r18
/* 80027C58 00024A78  38 03 00 03 */	addi r0, r3, 0x3
/* 80027C5C 00024A7C  80 64 00 80 */	lwz r3, 0x80(r4)
/* 80027C60 00024A80  54 00 68 24 */	slwi r0, r0, 13
/* 80027C64 00024A84  38 80 00 00 */	li r4, 0x0
/* 80027C68 00024A88  7E 83 02 14 */	add r20, r3, r0
/* 80027C6C 00024A8C  38 74 00 00 */	addi r3, r20, 0x0
/* 80027C70 00024A90  38 A0 20 00 */	li r5, 0x2000
/* 80027C74 00024A94  4B FD B4 8D */	bl memset
/* 80027C78 00024A98  B2 54 00 04 */	sth r18, 0x4(r20)
/* 80027C7C 00024A9C  38 00 00 04 */	li r0, 0x4
/* 80027C80 00024AA0  38 B4 00 00 */	addi r5, r20, 0x0
/* 80027C84 00024AA4  80 81 00 18 */	lwz r4, 0x18(r1)
/* 80027C88 00024AA8  38 74 00 04 */	addi r3, r20, 0x4
/* 80027C8C 00024AAC  38 D4 00 02 */	addi r6, r20, 0x2
/* 80027C90 00024AB0  A0 E4 00 10 */	lhz r7, 0x10(r4)
/* 80027C94 00024AB4  38 80 1F FC */	li r4, 0x1ffc
/* 80027C98 00024AB8  38 E7 FF FB */	addi r7, r7, -0x5
/* 80027C9C 00024ABC  B0 F4 00 06 */	sth r7, 0x6(r20)
/* 80027CA0 00024AC0  B0 14 00 08 */	sth r0, 0x8(r20)
/* 80027CA4 00024AC4  4B FF DE C1 */	bl __CARDCheckSum
/* 80027CA8 00024AC8  3A 52 00 01 */	addi r18, r18, 0x1
lbl_80027CAC:
/* 80027CAC 00024ACC  7E 40 07 34 */	extsh r0, r18
/* 80027CB0 00024AD0  2C 00 00 02 */	cmpwi r0, 0x2
/* 80027CB4 00024AD4  41 80 FF 9C */	blt lbl_80027C50
/* 80027CB8 00024AD8  28 13 00 00 */	cmplwi r19, 0x0
/* 80027CBC 00024ADC  41 82 00 0C */	beq lbl_80027CC8
/* 80027CC0 00024AE0  7E 60 9B 78 */	mr r0, r19
/* 80027CC4 00024AE4  48 00 00 0C */	b lbl_80027CD0
lbl_80027CC8:
/* 80027CC8 00024AE8  3C 60 80 02 */	lis r3, __CARDDefaultApiCallback@ha
/* 80027CCC 00024AEC  38 03 2C B0 */	addi r0, r3, __CARDDefaultApiCallback@l
lbl_80027CD0:
/* 80027CD0 00024AF0  80 A1 00 18 */	lwz r5, 0x18(r1)
/* 80027CD4 00024AF4  3C 60 00 01 */	lis r3, 0x1
/* 80027CD8 00024AF8  38 83 A0 00 */	addi r4, r3, -0x6000
/* 80027CDC 00024AFC  90 05 00 D0 */	stw r0, 0xd0(r5)
/* 80027CE0 00024B00  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80027CE4 00024B04  80 63 00 80 */	lwz r3, 0x80(r3)
/* 80027CE8 00024B08  48 01 4E 69 */	bl DCStoreRange
/* 80027CEC 00024B0C  80 81 00 18 */	lwz r4, 0x18(r1)
/* 80027CF0 00024B10  38 00 00 00 */	li r0, 0x0
/* 80027CF4 00024B14  3C 60 80 02 */	lis r3, FormatCallback@ha
/* 80027CF8 00024B18  90 04 00 28 */	stw r0, 0x28(r4)
/* 80027CFC 00024B1C  38 A3 75 B4 */	addi r5, r3, FormatCallback@l
/* 80027D00 00024B20  38 76 00 00 */	addi r3, r22, 0x0
/* 80027D04 00024B24  80 C1 00 18 */	lwz r6, 0x18(r1)
/* 80027D08 00024B28  80 86 00 0C */	lwz r4, 0xc(r6)
/* 80027D0C 00024B2C  80 06 00 28 */	lwz r0, 0x28(r6)
/* 80027D10 00024B30  7C 84 01 D6 */	mullw r4, r4, r0
/* 80027D14 00024B34  4B FF BD 31 */	bl __CARDEraseSector
/* 80027D18 00024B38  7C 72 1B 79 */	mr. r18, r3
/* 80027D1C 00024B3C  40 80 00 10 */	bge lbl_80027D2C
/* 80027D20 00024B40  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80027D24 00024B44  7E 44 93 78 */	mr r4, r18
/* 80027D28 00024B48  4B FF BF A1 */	bl __CARDPutControlBlock
lbl_80027D2C:
/* 80027D2C 00024B4C  7E 43 93 78 */	mr r3, r18
/* 80027D30 00024B50  48 00 00 0C */	b lbl_80027D3C
lbl_80027D34:
/* 80027D34 00024B54  7F B9 02 14 */	add r29, r25, r0
/* 80027D38 00024B58  4B FF FD E8 */	b lbl_80027B20
lbl_80027D3C:
/* 80027D3C 00024B5C  BA 41 00 20 */	lmw r18, 0x20(r1)
/* 80027D40 00024B60  80 01 00 5C */	lwz r0, 0x5c(r1)
/* 80027D44 00024B64  38 21 00 58 */	addi r1, r1, 0x58
/* 80027D48 00024B68  7C 08 03 A6 */	mtlr r0
/* 80027D4C 00024B6C  4E 80 00 20 */	blr

.global CARDFormatAsync
CARDFormatAsync:
/* 80027D50 00024B70  7C 08 02 A6 */	mflr r0
/* 80027D54 00024B74  90 01 00 04 */	stw r0, 0x4(r1)
/* 80027D58 00024B78  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80027D5C 00024B7C  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80027D60 00024B80  3B E4 00 00 */	addi r31, r4, 0x0
/* 80027D64 00024B84  93 C1 00 10 */	stw r30, 0x10(r1)
/* 80027D68 00024B88  3B C3 00 00 */	addi r30, r3, 0x0
/* 80027D6C 00024B8C  4B FF BE 65 */	bl __CARDGetFontEncode
/* 80027D70 00024B90  38 83 00 00 */	addi r4, r3, 0x0
/* 80027D74 00024B94  38 7E 00 00 */	addi r3, r30, 0x0
/* 80027D78 00024B98  38 BF 00 00 */	addi r5, r31, 0x0
/* 80027D7C 00024B9C  4B FF F9 7D */	bl __CARDFormatRegionAsync
/* 80027D80 00024BA0  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80027D84 00024BA4  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80027D88 00024BA8  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 80027D8C 00024BAC  38 21 00 18 */	addi r1, r1, 0x18
/* 80027D90 00024BB0  7C 08 03 A6 */	mtlr r0
/* 80027D94 00024BB4  4E 80 00 20 */	blr

.global CARDFormat
CARDFormat:
/* 80027D98 00024BB8  7C 08 02 A6 */	mflr r0
/* 80027D9C 00024BBC  90 01 00 04 */	stw r0, 0x4(r1)
/* 80027DA0 00024BC0  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80027DA4 00024BC4  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80027DA8 00024BC8  7C 7F 1B 78 */	mr r31, r3
/* 80027DAC 00024BCC  4B FF BE 25 */	bl __CARDGetFontEncode
/* 80027DB0 00024BD0  3C A0 80 02 */	lis r5, __CARDSyncCallback@ha
/* 80027DB4 00024BD4  38 83 00 00 */	addi r4, r3, 0x0
/* 80027DB8 00024BD8  38 A5 2C B4 */	addi r5, r5, __CARDSyncCallback@l
/* 80027DBC 00024BDC  38 7F 00 00 */	addi r3, r31, 0x0
/* 80027DC0 00024BE0  4B FF F9 39 */	bl __CARDFormatRegionAsync
/* 80027DC4 00024BE4  2C 03 00 00 */	cmpwi r3, 0x0
/* 80027DC8 00024BE8  40 80 00 08 */	bge lbl_80027DD0
/* 80027DCC 00024BEC  48 00 00 0C */	b lbl_80027DD8
lbl_80027DD0:
/* 80027DD0 00024BF0  7F E3 FB 78 */	mr r3, r31
/* 80027DD4 00024BF4  4B FF C1 61 */	bl __CARDSync
lbl_80027DD8:
/* 80027DD8 00024BF8  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80027DDC 00024BFC  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80027DE0 00024C00  38 21 00 18 */	addi r1, r1, 0x18
/* 80027DE4 00024C04  7C 08 03 A6 */	mtlr r0
/* 80027DE8 00024C08  4E 80 00 20 */	blr
