.include "macros.s"

.section .text, "ax"  # 0x800058A0 - 0x800764A0 ; 0x00070C00


.global DeleteCallback
DeleteCallback:
/* 80028EE4 00025D04  7C 08 02 A6 */	mflr r0
/* 80028EE8 00025D08  90 01 00 04 */	stw r0, 0x4(r1)
/* 80028EEC 00025D0C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80028EF0 00025D10  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80028EF4 00025D14  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80028EF8 00025D18  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80028EFC 00025D1C  7C 9D 23 79 */	mr. r29, r4
/* 80028F00 00025D20  93 81 00 10 */	stw r28, 0x10(r1)
/* 80028F04 00025D24  3B 83 00 00 */	addi r28, r3, 0x0
/* 80028F08 00025D28  1C BC 01 10 */	mulli r5, r28, 0x110
/* 80028F0C 00025D2C  3C 60 80 0A */	lis r3, __CARDBlock@ha
/* 80028F10 00025D30  38 03 3D 40 */	addi r0, r3, __CARDBlock@l
/* 80028F14 00025D34  7F E0 2A 14 */	add r31, r0, r5
/* 80028F18 00025D38  83 DF 00 D0 */	lwz r30, 0xd0(r31)
/* 80028F1C 00025D3C  38 00 00 00 */	li r0, 0x0
/* 80028F20 00025D40  90 1F 00 D0 */	stw r0, 0xd0(r31)
/* 80028F24 00025D44  41 80 00 1C */	blt lbl_80028F40
/* 80028F28 00025D48  A0 9F 00 BE */	lhz r4, 0xbe(r31)
/* 80028F2C 00025D4C  38 7C 00 00 */	addi r3, r28, 0x0
/* 80028F30 00025D50  38 BE 00 00 */	addi r5, r30, 0x0
/* 80028F34 00025D54  4B FF C8 85 */	bl __CARDFreeBlock
/* 80028F38 00025D58  7C 7D 1B 79 */	mr. r29, r3
/* 80028F3C 00025D5C  40 80 00 2C */	bge lbl_80028F68
lbl_80028F40:
/* 80028F40 00025D60  38 7F 00 00 */	addi r3, r31, 0x0
/* 80028F44 00025D64  38 9D 00 00 */	addi r4, r29, 0x0
/* 80028F48 00025D68  4B FF AD 81 */	bl __CARDPutControlBlock
/* 80028F4C 00025D6C  28 1E 00 00 */	cmplwi r30, 0x0
/* 80028F50 00025D70  41 82 00 18 */	beq lbl_80028F68
/* 80028F54 00025D74  39 9E 00 00 */	addi r12, r30, 0x0
/* 80028F58 00025D78  7D 88 03 A6 */	mtlr r12
/* 80028F5C 00025D7C  38 7C 00 00 */	addi r3, r28, 0x0
/* 80028F60 00025D80  38 9D 00 00 */	addi r4, r29, 0x0
/* 80028F64 00025D84  4E 80 00 21 */	blrl
lbl_80028F68:
/* 80028F68 00025D88  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80028F6C 00025D8C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80028F70 00025D90  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80028F74 00025D94  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80028F78 00025D98  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80028F7C 00025D9C  38 21 00 20 */	addi r1, r1, 0x20
/* 80028F80 00025DA0  7C 08 03 A6 */	mtlr r0
/* 80028F84 00025DA4  4E 80 00 20 */	blr

.global CARDFastDeleteAsync
CARDFastDeleteAsync:
/* 80028F88 00025DA8  7C 08 02 A6 */	mflr r0
/* 80028F8C 00025DAC  90 01 00 04 */	stw r0, 0x4(r1)
/* 80028F90 00025DB0  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 80028F94 00025DB4  93 E1 00 24 */	stw r31, 0x24(r1)
/* 80028F98 00025DB8  93 C1 00 20 */	stw r30, 0x20(r1)
/* 80028F9C 00025DBC  3B C5 00 00 */	addi r30, r5, 0x0
/* 80028FA0 00025DC0  93 A1 00 1C */	stw r29, 0x1c(r1)
/* 80028FA4 00025DC4  7C 9D 23 79 */	mr. r29, r4
/* 80028FA8 00025DC8  93 81 00 18 */	stw r28, 0x18(r1)
/* 80028FAC 00025DCC  3B 83 00 00 */	addi r28, r3, 0x0
/* 80028FB0 00025DD0  41 80 00 0C */	blt lbl_80028FBC
/* 80028FB4 00025DD4  2C 1D 00 7F */	cmpwi r29, 0x7f
/* 80028FB8 00025DD8  41 80 00 0C */	blt lbl_80028FC4
lbl_80028FBC:
/* 80028FBC 00025DDC  38 60 FF 80 */	li r3, -0x80
/* 80028FC0 00025DE0  48 00 00 D4 */	b lbl_80029094
lbl_80028FC4:
/* 80028FC4 00025DE4  38 7C 00 00 */	addi r3, r28, 0x0
/* 80028FC8 00025DE8  38 81 00 14 */	addi r4, r1, 0x14
/* 80028FCC 00025DEC  4B FF AC 45 */	bl __CARDGetControlBlock
/* 80028FD0 00025DF0  2C 03 00 00 */	cmpwi r3, 0x0
/* 80028FD4 00025DF4  40 80 00 08 */	bge lbl_80028FDC
/* 80028FD8 00025DF8  48 00 00 BC */	b lbl_80029094
lbl_80028FDC:
/* 80028FDC 00025DFC  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80028FE0 00025E00  4B FF C9 21 */	bl __CARDGetDirBlock
/* 80028FE4 00025E04  57 A0 30 32 */	slwi r0, r29, 6
/* 80028FE8 00025E08  7F E3 02 14 */	add r31, r3, r0
/* 80028FEC 00025E0C  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80028FF0 00025E10  7F E4 FB 78 */	mr r4, r31
/* 80028FF4 00025E14  4B FF EE 61 */	bl __CARDAccess
/* 80028FF8 00025E18  7C 64 1B 79 */	mr. r4, r3
/* 80028FFC 00025E1C  40 80 00 10 */	bge lbl_8002900C
/* 80029000 00025E20  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80029004 00025E24  4B FF AC C5 */	bl __CARDPutControlBlock
/* 80029008 00025E28  48 00 00 8C */	b lbl_80029094
lbl_8002900C:
/* 8002900C 00025E2C  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80029010 00025E30  7F A4 EB 78 */	mr r4, r29
/* 80029014 00025E34  4B FF F3 85 */	bl __CARDIsOpened
/* 80029018 00025E38  2C 03 00 00 */	cmpwi r3, 0x0
/* 8002901C 00025E3C  41 82 00 14 */	beq lbl_80029030
/* 80029020 00025E40  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80029024 00025E44  38 80 FF FF */	li r4, -0x1
/* 80029028 00025E48  4B FF AC A1 */	bl __CARDPutControlBlock
/* 8002902C 00025E4C  48 00 00 68 */	b lbl_80029094
lbl_80029030:
/* 80029030 00025E50  A0 1F 00 36 */	lhz r0, 0x36(r31)
/* 80029034 00025E54  7F E3 FB 78 */	mr r3, r31
/* 80029038 00025E58  80 C1 00 14 */	lwz r6, 0x14(r1)
/* 8002903C 00025E5C  38 80 00 FF */	li r4, 0xff
/* 80029040 00025E60  38 A0 00 40 */	li r5, 0x40
/* 80029044 00025E64  B0 06 00 BE */	sth r0, 0xbe(r6)
/* 80029048 00025E68  4B FD A0 B9 */	bl memset
/* 8002904C 00025E6C  28 1E 00 00 */	cmplwi r30, 0x0
/* 80029050 00025E70  41 82 00 0C */	beq lbl_8002905C
/* 80029054 00025E74  7F C0 F3 78 */	mr r0, r30
/* 80029058 00025E78  48 00 00 0C */	b lbl_80029064
lbl_8002905C:
/* 8002905C 00025E7C  3C 60 80 02 */	lis r3, __CARDDefaultApiCallback@ha
/* 80029060 00025E80  38 03 2C B0 */	addi r0, r3, __CARDDefaultApiCallback@l
lbl_80029064:
/* 80029064 00025E84  80 A1 00 14 */	lwz r5, 0x14(r1)
/* 80029068 00025E88  3C 60 80 03 */	lis r3, DeleteCallback@ha
/* 8002906C 00025E8C  38 83 8E E4 */	addi r4, r3, DeleteCallback@l
/* 80029070 00025E90  90 05 00 D0 */	stw r0, 0xd0(r5)
/* 80029074 00025E94  7F 83 E3 78 */	mr r3, r28
/* 80029078 00025E98  4B FF CA 29 */	bl __CARDUpdateDir
/* 8002907C 00025E9C  7C 7F 1B 79 */	mr. r31, r3
/* 80029080 00025EA0  40 80 00 10 */	bge lbl_80029090
/* 80029084 00025EA4  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80029088 00025EA8  7F E4 FB 78 */	mr r4, r31
/* 8002908C 00025EAC  4B FF AC 3D */	bl __CARDPutControlBlock
lbl_80029090:
/* 80029090 00025EB0  7F E3 FB 78 */	mr r3, r31
lbl_80029094:
/* 80029094 00025EB4  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 80029098 00025EB8  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 8002909C 00025EBC  83 C1 00 20 */	lwz r30, 0x20(r1)
/* 800290A0 00025EC0  83 A1 00 1C */	lwz r29, 0x1c(r1)
/* 800290A4 00025EC4  83 81 00 18 */	lwz r28, 0x18(r1)
/* 800290A8 00025EC8  38 21 00 28 */	addi r1, r1, 0x28
/* 800290AC 00025ECC  7C 08 03 A6 */	mtlr r0
/* 800290B0 00025ED0  4E 80 00 20 */	blr

.global CARDDeleteAsync
CARDDeleteAsync:
/* 800290B4 00025ED4  7C 08 02 A6 */	mflr r0
/* 800290B8 00025ED8  90 01 00 04 */	stw r0, 0x4(r1)
/* 800290BC 00025EDC  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800290C0 00025EE0  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 800290C4 00025EE4  3B E3 00 00 */	addi r31, r3, 0x0
/* 800290C8 00025EE8  93 C1 00 28 */	stw r30, 0x28(r1)
/* 800290CC 00025EEC  3B C5 00 00 */	addi r30, r5, 0x0
/* 800290D0 00025EF0  93 A1 00 24 */	stw r29, 0x24(r1)
/* 800290D4 00025EF4  3B A4 00 00 */	addi r29, r4, 0x0
/* 800290D8 00025EF8  38 81 00 18 */	addi r4, r1, 0x18
/* 800290DC 00025EFC  4B FF AB 35 */	bl __CARDGetControlBlock
/* 800290E0 00025F00  2C 03 00 00 */	cmpwi r3, 0x0
/* 800290E4 00025F04  40 80 00 08 */	bge lbl_800290EC
/* 800290E8 00025F08  48 00 00 C0 */	b lbl_800291A8
lbl_800290EC:
/* 800290EC 00025F0C  80 61 00 18 */	lwz r3, 0x18(r1)
/* 800290F0 00025F10  38 9D 00 00 */	addi r4, r29, 0x0
/* 800290F4 00025F14  38 A1 00 14 */	addi r5, r1, 0x14
/* 800290F8 00025F18  4B FF EE 25 */	bl __CARDGetFileNo
/* 800290FC 00025F1C  7C 64 1B 79 */	mr. r4, r3
/* 80029100 00025F20  40 80 00 10 */	bge lbl_80029110
/* 80029104 00025F24  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80029108 00025F28  4B FF AB C1 */	bl __CARDPutControlBlock
/* 8002910C 00025F2C  48 00 00 9C */	b lbl_800291A8
lbl_80029110:
/* 80029110 00025F30  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80029114 00025F34  80 81 00 14 */	lwz r4, 0x14(r1)
/* 80029118 00025F38  4B FF F2 81 */	bl __CARDIsOpened
/* 8002911C 00025F3C  2C 03 00 00 */	cmpwi r3, 0x0
/* 80029120 00025F40  41 82 00 14 */	beq lbl_80029134
/* 80029124 00025F44  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80029128 00025F48  38 80 FF FF */	li r4, -0x1
/* 8002912C 00025F4C  4B FF AB 9D */	bl __CARDPutControlBlock
/* 80029130 00025F50  48 00 00 78 */	b lbl_800291A8
lbl_80029134:
/* 80029134 00025F54  80 61 00 18 */	lwz r3, 0x18(r1)
/* 80029138 00025F58  4B FF C7 C9 */	bl __CARDGetDirBlock
/* 8002913C 00025F5C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80029140 00025F60  38 80 00 FF */	li r4, 0xff
/* 80029144 00025F64  80 C1 00 18 */	lwz r6, 0x18(r1)
/* 80029148 00025F68  38 A0 00 40 */	li r5, 0x40
/* 8002914C 00025F6C  54 00 30 32 */	slwi r0, r0, 6
/* 80029150 00025F70  7C 63 02 14 */	add r3, r3, r0
/* 80029154 00025F74  A0 03 00 36 */	lhz r0, 0x36(r3)
/* 80029158 00025F78  B0 06 00 BE */	sth r0, 0xbe(r6)
/* 8002915C 00025F7C  4B FD 9F A5 */	bl memset
/* 80029160 00025F80  28 1E 00 00 */	cmplwi r30, 0x0
/* 80029164 00025F84  41 82 00 0C */	beq lbl_80029170
/* 80029168 00025F88  7F C0 F3 78 */	mr r0, r30
/* 8002916C 00025F8C  48 00 00 0C */	b lbl_80029178
lbl_80029170:
/* 80029170 00025F90  3C 60 80 02 */	lis r3, __CARDDefaultApiCallback@ha
/* 80029174 00025F94  38 03 2C B0 */	addi r0, r3, __CARDDefaultApiCallback@l
lbl_80029178:
/* 80029178 00025F98  80 A1 00 18 */	lwz r5, 0x18(r1)
/* 8002917C 00025F9C  3C 60 80 03 */	lis r3, DeleteCallback@ha
/* 80029180 00025FA0  38 83 8E E4 */	addi r4, r3, DeleteCallback@l
/* 80029184 00025FA4  90 05 00 D0 */	stw r0, 0xd0(r5)
/* 80029188 00025FA8  7F E3 FB 78 */	mr r3, r31
/* 8002918C 00025FAC  4B FF C9 15 */	bl __CARDUpdateDir
/* 80029190 00025FB0  7C 7F 1B 79 */	mr. r31, r3
/* 80029194 00025FB4  40 80 00 10 */	bge lbl_800291A4
/* 80029198 00025FB8  80 61 00 18 */	lwz r3, 0x18(r1)
/* 8002919C 00025FBC  7F E4 FB 78 */	mr r4, r31
/* 800291A0 00025FC0  4B FF AB 29 */	bl __CARDPutControlBlock
lbl_800291A4:
/* 800291A4 00025FC4  7F E3 FB 78 */	mr r3, r31
lbl_800291A8:
/* 800291A8 00025FC8  80 01 00 34 */	lwz r0, 0x34(r1)
/* 800291AC 00025FCC  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 800291B0 00025FD0  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 800291B4 00025FD4  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 800291B8 00025FD8  38 21 00 30 */	addi r1, r1, 0x30
/* 800291BC 00025FDC  7C 08 03 A6 */	mtlr r0
/* 800291C0 00025FE0  4E 80 00 20 */	blr

.global CARDDelete
CARDDelete:
/* 800291C4 00025FE4  7C 08 02 A6 */	mflr r0
/* 800291C8 00025FE8  3C A0 80 02 */	lis r5, __CARDSyncCallback@ha
/* 800291CC 00025FEC  90 01 00 04 */	stw r0, 0x4(r1)
/* 800291D0 00025FF0  38 A5 2C B4 */	addi r5, r5, __CARDSyncCallback@l
/* 800291D4 00025FF4  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 800291D8 00025FF8  93 E1 00 14 */	stw r31, 0x14(r1)
/* 800291DC 00025FFC  3B E3 00 00 */	addi r31, r3, 0x0
/* 800291E0 00026000  4B FF FE D5 */	bl CARDDeleteAsync
/* 800291E4 00026004  2C 03 00 00 */	cmpwi r3, 0x0
/* 800291E8 00026008  40 80 00 08 */	bge lbl_800291F0
/* 800291EC 0002600C  48 00 00 0C */	b lbl_800291F8
lbl_800291F0:
/* 800291F0 00026010  7F E3 FB 78 */	mr r3, r31
/* 800291F4 00026014  4B FF AD 41 */	bl __CARDSync
lbl_800291F8:
/* 800291F8 00026018  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 800291FC 0002601C  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80029200 00026020  38 21 00 18 */	addi r1, r1, 0x18
/* 80029204 00026024  7C 08 03 A6 */	mtlr r0
/* 80029208 00026028  4E 80 00 20 */	blr
