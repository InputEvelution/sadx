.include "macros.s"

.section .text, "ax"  # 0x800058A0 - 0x800764A0 ; 0x00070C00


.global __sys_free
__sys_free:
/* 800087E0 00005600  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800087E4 00005604  7C 08 02 A6 */	mflr r0
/* 800087E8 00005608  90 01 00 24 */	stw r0, 0x24(r1)
/* 800087EC 0000560C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800087F0 00005610  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800087F4 00005614  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800087F8 00005618  7C 7D 1B 78 */	mr r29, r3
/* 800087FC 0000561C  80 0D 81 60 */	lwz r0, lbl_800C3FC0@sda21(r13)
/* 80008800 00005620  2C 00 FF FF */	cmpwi r0, -0x1
/* 80008804 00005624  40 82 00 6C */	bne lbl_80008870
/* 80008808 00005628  3C 60 80 07 */	lis r3, lbl_800765B0@ha
/* 8000880C 0000562C  38 63 65 B0 */	addi r3, r3, lbl_800765B0@l
/* 80008810 00005630  4C C6 31 82 */	crclr 6
/* 80008814 00005634  48 03 50 A5 */	bl OSReport
/* 80008818 00005638  3C 60 80 07 */	lis r3, lbl_800765E8@ha
/* 8000881C 0000563C  38 63 65 E8 */	addi r3, r3, lbl_800765E8@l
/* 80008820 00005640  4C C6 31 82 */	crclr 6
/* 80008824 00005644  48 03 50 95 */	bl OSReport
/* 80008828 00005648  48 03 3F C1 */	bl func_8003C7E8
/* 8000882C 0000564C  7C 7F 1B 78 */	mr r31, r3
/* 80008830 00005650  48 03 3F B1 */	bl func_8003C7E0
/* 80008834 00005654  7C 7E 1B 78 */	mr r30, r3
/* 80008838 00005658  7F E3 FB 78 */	mr r3, r31
/* 8000883C 0000565C  38 A0 00 01 */	li r5, 0x1
/* 80008840 00005660  7F C4 F3 78 */	mr r4, r30
/* 80008844 00005664  48 03 3B 61 */	bl OSInitAlloc
/* 80008848 00005668  7C 7F 1B 78 */	mr r31, r3
/* 8000884C 0000566C  48 03 3F AD */	bl func_8003C7F8
/* 80008850 00005670  38 1F 00 1F */	addi r0, r31, 0x1f
/* 80008854 00005674  57 DE 00 34 */	rlwinm r30, r30, 0, 0, 26
/* 80008858 00005678  54 03 00 34 */	rlwinm r3, r0, 0, 0, 26
/* 8000885C 0000567C  7F C4 F3 78 */	mr r4, r30
/* 80008860 00005680  48 03 3B B5 */	bl OSCreateHeap
/* 80008864 00005684  48 03 3B 31 */	bl func_8003C394
/* 80008868 00005688  7F C3 F3 78 */	mr r3, r30
/* 8000886C 0000568C  48 03 3F 8D */	bl func_8003C7F8
lbl_80008870:
/* 80008870 00005690  80 6D 81 60 */	lwz r3, lbl_800C3FC0@sda21(r13)
/* 80008874 00005694  7F A4 EB 78 */	mr r4, r29
/* 80008878 00005698  48 03 3A A1 */	bl OSFreeToHeap
/* 8000887C 0000569C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80008880 000056A0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80008884 000056A4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80008888 000056A8  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8000888C 000056AC  7C 08 03 A6 */	mtlr r0
/* 80008890 000056B0  38 21 00 20 */	addi r1, r1, 0x20
/* 80008894 000056B4  4E 80 00 20 */	blr


.section .rodata, "wa"  # 0x800764E0 - 0x80079C60 ; 0x00003780

.balign 8

.global lbl_800765B0
lbl_800765B0:

	# ROM: 0x735B0
	.asciz "GCN_Mem_Alloc.c : InitDefaultHeap. No Heap Available\n"
	.balign 4

.global lbl_800765E8
lbl_800765E8:

	# ROM: 0x735E8
	.asciz "Metrowerks CW runtime library initializing default heap\n"
	.balign 4
