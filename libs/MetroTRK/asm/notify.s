.include "macros.s"

.section .text, "ax"  # 0x800058A0 - 0x800764A0 ; 0x00070C00


.global TRKDoNotifyStopped
TRKDoNotifyStopped:
/* 80018BB4 000159D4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80018BB8 000159D8  7C 08 02 A6 */	mflr r0
/* 80018BBC 000159DC  90 01 00 24 */	stw r0, 0x24(r1)
/* 80018BC0 000159E0  38 81 00 08 */	addi r4, r1, 0x8
/* 80018BC4 000159E4  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80018BC8 000159E8  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80018BCC 000159EC  7C 7E 1B 78 */	mr r30, r3
/* 80018BD0 000159F0  38 61 00 0C */	addi r3, r1, 0xc
/* 80018BD4 000159F4  4B FF C8 79 */	bl TRKGetFreeBuffer
/* 80018BD8 000159F8  7C 7F 1B 79 */	mr. r31, r3
/* 80018BDC 000159FC  40 82 00 94 */	bne lbl_80018C70
/* 80018BE0 00015A00  80 A1 00 08 */	lwz r5, 0x8(r1)
/* 80018BE4 00015A04  80 65 00 0C */	lwz r3, 0xc(r5)
/* 80018BE8 00015A08  28 03 08 80 */	cmplwi r3, 0x880
/* 80018BEC 00015A0C  41 80 00 0C */	blt lbl_80018BF8
/* 80018BF0 00015A10  38 80 03 01 */	li r4, 0x301
/* 80018BF4 00015A14  48 00 00 24 */	b lbl_80018C18
lbl_80018BF8:
/* 80018BF8 00015A18  38 03 00 01 */	addi r0, r3, 0x1
/* 80018BFC 00015A1C  7C 65 1A 14 */	add r3, r5, r3
/* 80018C00 00015A20  90 05 00 0C */	stw r0, 0xc(r5)
/* 80018C04 00015A24  38 80 00 00 */	li r4, 0x0
/* 80018C08 00015A28  9B C3 00 10 */	stb r30, 0x10(r3)
/* 80018C0C 00015A2C  80 65 00 08 */	lwz r3, 0x8(r5)
/* 80018C10 00015A30  38 03 00 01 */	addi r0, r3, 0x1
/* 80018C14 00015A34  90 05 00 08 */	stw r0, 0x8(r5)
lbl_80018C18:
/* 80018C18 00015A38  2C 04 00 00 */	cmpwi r4, 0x0
/* 80018C1C 00015A3C  40 82 00 24 */	bne lbl_80018C40
/* 80018C20 00015A40  57 C0 06 3E */	clrlwi r0, r30, 24
/* 80018C24 00015A44  28 00 00 90 */	cmplwi r0, 0x90
/* 80018C28 00015A48  40 82 00 10 */	bne lbl_80018C38
/* 80018C2C 00015A4C  80 61 00 08 */	lwz r3, 0x8(r1)
/* 80018C30 00015A50  48 00 0B 31 */	bl TRKTargetAddStopInfo
/* 80018C34 00015A54  48 00 00 0C */	b lbl_80018C40
lbl_80018C38:
/* 80018C38 00015A58  80 61 00 08 */	lwz r3, 0x8(r1)
/* 80018C3C 00015A5C  48 00 0A 79 */	bl TRKTargetAddExceptionInfo
lbl_80018C40:
/* 80018C40 00015A60  80 61 00 08 */	lwz r3, 0x8(r1)
/* 80018C44 00015A64  38 81 00 10 */	addi r4, r1, 0x10
/* 80018C48 00015A68  38 A0 00 02 */	li r5, 0x2
/* 80018C4C 00015A6C  38 C0 00 03 */	li r6, 0x3
/* 80018C50 00015A70  38 E0 00 01 */	li r7, 0x1
/* 80018C54 00015A74  4B FF FA E1 */	bl TRKRequestSend
/* 80018C58 00015A78  7C 7F 1B 79 */	mr. r31, r3
/* 80018C5C 00015A7C  40 82 00 0C */	bne lbl_80018C68
/* 80018C60 00015A80  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80018C64 00015A84  4B FF C7 59 */	bl TRKReleaseBuffer
lbl_80018C68:
/* 80018C68 00015A88  80 61 00 0C */	lwz r3, 0xc(r1)
/* 80018C6C 00015A8C  4B FF C7 51 */	bl TRKReleaseBuffer
lbl_80018C70:
/* 80018C70 00015A90  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80018C74 00015A94  7F E3 FB 78 */	mr r3, r31
/* 80018C78 00015A98  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80018C7C 00015A9C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80018C80 00015AA0  7C 08 03 A6 */	mtlr r0
/* 80018C84 00015AA4  38 21 00 20 */	addi r1, r1, 0x20
/* 80018C88 00015AA8  4E 80 00 20 */	blr
