.include "macros.s"

.section .text, "ax"  # 0x800058A0 - 0x800764A0 ; 0x00070C00


.global TRKMessageSend
TRKMessageSend:
/* 80014980 000117A0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80014984 000117A4  7C 08 02 A6 */	mflr r0
/* 80014988 000117A8  38 A0 00 00 */	li r5, 0x0
/* 8001498C 000117AC  90 01 00 24 */	stw r0, 0x24(r1)
/* 80014990 000117B0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80014994 000117B4  7C 7F 1B 78 */	mr r31, r3
/* 80014998 000117B8  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8001499C 000117BC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800149A0 000117C0  93 81 00 10 */	stw r28, 0x10(r1)
/* 800149A4 000117C4  81 03 00 08 */	lwz r8, 0x8(r3)
/* 800149A8 000117C8  38 60 00 00 */	li r3, 0x0
/* 800149AC 000117CC  28 08 00 00 */	cmplwi r8, 0x0
/* 800149B0 000117D0  40 81 00 BC */	ble lbl_80014A6C
/* 800149B4 000117D4  28 08 00 08 */	cmplwi r8, 0x8
/* 800149B8 000117D8  38 88 FF F8 */	addi r4, r8, -0x8
/* 800149BC 000117DC  40 81 00 88 */	ble lbl_80014A44
/* 800149C0 000117E0  38 04 00 07 */	addi r0, r4, 0x7
/* 800149C4 000117E4  54 00 E8 FE */	srwi r0, r0, 3
/* 800149C8 000117E8  7C 09 03 A6 */	mtctr r0
/* 800149CC 000117EC  28 04 00 00 */	cmplwi r4, 0x0
/* 800149D0 000117F0  40 81 00 74 */	ble lbl_80014A44
lbl_800149D4:
/* 800149D4 000117F4  39 23 00 10 */	addi r9, r3, 0x10
/* 800149D8 000117F8  38 63 00 08 */	addi r3, r3, 0x8
/* 800149DC 000117FC  7D 3F 4A 14 */	add r9, r31, r9
/* 800149E0 00011800  88 09 00 00 */	lbz r0, 0x0(r9)
/* 800149E4 00011804  88 89 00 01 */	lbz r4, 0x1(r9)
/* 800149E8 00011808  7C A5 02 14 */	add r5, r5, r0
/* 800149EC 0001180C  88 09 00 02 */	lbz r0, 0x2(r9)
/* 800149F0 00011810  54 A5 06 3E */	clrlwi r5, r5, 24
/* 800149F4 00011814  88 E9 00 03 */	lbz r7, 0x3(r9)
/* 800149F8 00011818  7C 85 22 14 */	add r4, r5, r4
/* 800149FC 0001181C  88 C9 00 04 */	lbz r6, 0x4(r9)
/* 80014A00 00011820  54 84 06 3E */	clrlwi r4, r4, 24
/* 80014A04 00011824  88 A9 00 05 */	lbz r5, 0x5(r9)
/* 80014A08 00011828  7C 04 02 14 */	add r0, r4, r0
/* 80014A0C 0001182C  88 89 00 06 */	lbz r4, 0x6(r9)
/* 80014A10 00011830  54 0A 06 3E */	clrlwi r10, r0, 24
/* 80014A14 00011834  88 09 00 07 */	lbz r0, 0x7(r9)
/* 80014A18 00011838  7C EA 3A 14 */	add r7, r10, r7
/* 80014A1C 0001183C  54 E7 06 3E */	clrlwi r7, r7, 24
/* 80014A20 00011840  7C C7 32 14 */	add r6, r7, r6
/* 80014A24 00011844  54 C6 06 3E */	clrlwi r6, r6, 24
/* 80014A28 00011848  7C A6 2A 14 */	add r5, r6, r5
/* 80014A2C 0001184C  54 A5 06 3E */	clrlwi r5, r5, 24
/* 80014A30 00011850  7C 85 22 14 */	add r4, r5, r4
/* 80014A34 00011854  54 84 06 3E */	clrlwi r4, r4, 24
/* 80014A38 00011858  7C 04 02 14 */	add r0, r4, r0
/* 80014A3C 0001185C  54 05 06 3E */	clrlwi r5, r0, 24
/* 80014A40 00011860  42 00 FF 94 */	bdnz lbl_800149D4
lbl_80014A44:
/* 80014A44 00011864  7C 03 40 50 */	subf r0, r3, r8
/* 80014A48 00011868  7C 09 03 A6 */	mtctr r0
/* 80014A4C 0001186C  7C 03 40 40 */	cmplw r3, r8
/* 80014A50 00011870  40 80 00 1C */	bge lbl_80014A6C
lbl_80014A54:
/* 80014A54 00011874  38 03 00 10 */	addi r0, r3, 0x10
/* 80014A58 00011878  38 63 00 01 */	addi r3, r3, 0x1
/* 80014A5C 0001187C  7C 1F 00 AE */	lbzx r0, r31, r0
/* 80014A60 00011880  7C 05 02 14 */	add r0, r5, r0
/* 80014A64 00011884  54 05 06 3E */	clrlwi r5, r0, 24
/* 80014A68 00011888  42 00 FF EC */	bdnz lbl_80014A54
lbl_80014A6C:
/* 80014A6C 0001188C  68 A0 00 FF */	xori r0, r5, 0xff
/* 80014A70 00011890  38 60 00 7E */	li r3, 0x7e
/* 80014A74 00011894  54 1E 06 3E */	clrlwi r30, r0, 24
/* 80014A78 00011898  48 00 62 B5 */	bl WriteUART1
/* 80014A7C 0001189C  2C 03 00 00 */	cmpwi r3, 0x0
/* 80014A80 000118A0  40 82 00 5C */	bne lbl_80014ADC
/* 80014A84 000118A4  3B A0 00 00 */	li r29, 0x0
/* 80014A88 000118A8  48 00 00 48 */	b lbl_80014AD0
lbl_80014A8C:
/* 80014A8C 000118AC  38 1D 00 10 */	addi r0, r29, 0x10
/* 80014A90 000118B0  7F 9F 00 AE */	lbzx r28, r31, r0
/* 80014A94 000118B4  28 1C 00 7E */	cmplwi r28, 0x7e
/* 80014A98 000118B8  41 82 00 0C */	beq lbl_80014AA4
/* 80014A9C 000118BC  28 1C 00 7D */	cmplwi r28, 0x7d
/* 80014AA0 000118C0  40 82 00 1C */	bne lbl_80014ABC
lbl_80014AA4:
/* 80014AA4 000118C4  38 60 00 7D */	li r3, 0x7d
/* 80014AA8 000118C8  48 00 62 85 */	bl WriteUART1
/* 80014AAC 000118CC  2C 03 00 00 */	cmpwi r3, 0x0
/* 80014AB0 000118D0  6B 80 00 20 */	xori r0, r28, 0x20
/* 80014AB4 000118D4  54 1C 06 3E */	clrlwi r28, r0, 24
/* 80014AB8 000118D8  40 82 00 24 */	bne lbl_80014ADC
lbl_80014ABC:
/* 80014ABC 000118DC  7F 83 07 74 */	extsb r3, r28
/* 80014AC0 000118E0  48 00 62 6D */	bl WriteUART1
/* 80014AC4 000118E4  2C 03 00 00 */	cmpwi r3, 0x0
/* 80014AC8 000118E8  40 82 00 14 */	bne lbl_80014ADC
/* 80014ACC 000118EC  3B BD 00 01 */	addi r29, r29, 0x1
lbl_80014AD0:
/* 80014AD0 000118F0  80 1F 00 08 */	lwz r0, 0x8(r31)
/* 80014AD4 000118F4  7C 1D 00 40 */	cmplw r29, r0
/* 80014AD8 000118F8  41 80 FF B4 */	blt lbl_80014A8C
lbl_80014ADC:
/* 80014ADC 000118FC  2C 03 00 00 */	cmpwi r3, 0x0
/* 80014AE0 00011900  40 82 00 40 */	bne lbl_80014B20
/* 80014AE4 00011904  57 C0 06 3E */	clrlwi r0, r30, 24
/* 80014AE8 00011908  7F DC F3 78 */	mr r28, r30
/* 80014AEC 0001190C  28 00 00 7E */	cmplwi r0, 0x7e
/* 80014AF0 00011910  41 82 00 0C */	beq lbl_80014AFC
/* 80014AF4 00011914  28 00 00 7D */	cmplwi r0, 0x7d
/* 80014AF8 00011918  40 82 00 1C */	bne lbl_80014B14
lbl_80014AFC:
/* 80014AFC 0001191C  38 60 00 7D */	li r3, 0x7d
/* 80014B00 00011920  48 00 62 2D */	bl WriteUART1
/* 80014B04 00011924  2C 03 00 00 */	cmpwi r3, 0x0
/* 80014B08 00011928  6B 80 00 20 */	xori r0, r28, 0x20
/* 80014B0C 0001192C  54 1C 06 3E */	clrlwi r28, r0, 24
/* 80014B10 00011930  40 82 00 10 */	bne lbl_80014B20
lbl_80014B14:
/* 80014B14 00011934  7F 83 07 74 */	extsb r3, r28
/* 80014B18 00011938  48 00 62 15 */	bl WriteUART1
/* 80014B1C 0001193C  2C 03 00 00 */	cmpwi r3, 0x0
lbl_80014B20:
/* 80014B20 00011940  2C 03 00 00 */	cmpwi r3, 0x0
/* 80014B24 00011944  40 82 00 0C */	bne lbl_80014B30
/* 80014B28 00011948  38 60 00 7E */	li r3, 0x7e
/* 80014B2C 0001194C  48 00 62 01 */	bl WriteUART1
lbl_80014B30:
/* 80014B30 00011950  2C 03 00 00 */	cmpwi r3, 0x0
/* 80014B34 00011954  40 82 00 08 */	bne lbl_80014B3C
/* 80014B38 00011958  48 00 62 1D */	bl WriteUARTFlush
lbl_80014B3C:
/* 80014B3C 0001195C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80014B40 00011960  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80014B44 00011964  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80014B48 00011968  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80014B4C 0001196C  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80014B50 00011970  7C 08 03 A6 */	mtlr r0
/* 80014B54 00011974  38 21 00 20 */	addi r1, r1, 0x20
/* 80014B58 00011978  4E 80 00 20 */	blr
