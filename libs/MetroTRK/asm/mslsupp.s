.include "macros.s"

.section .text, "ax"  # 0x800058A0 - 0x800764A0 ; 0x00070C00


.global __TRK_write_console
__TRK_write_console:
/* 8001B028 00017E48  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8001B02C 00017E4C  7C 08 02 A6 */	mflr r0
/* 8001B030 00017E50  90 01 00 24 */	stw r0, 0x24(r1)
/* 8001B034 00017E54  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8001B038 00017E58  7C BF 2B 78 */	mr r31, r5
/* 8001B03C 00017E5C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8001B040 00017E60  7C 9E 23 78 */	mr r30, r4
/* 8001B044 00017E64  4B FF FF C9 */	bl GetUseSerialIO
/* 8001B048 00017E68  54 60 06 3F */	clrlwi. r0, r3, 24
/* 8001B04C 00017E6C  40 82 00 0C */	bne lbl_8001B058
/* 8001B050 00017E70  38 60 00 01 */	li r3, 0x1
/* 8001B054 00017E74  48 00 00 78 */	b lbl_8001B0CC
lbl_8001B058:
/* 8001B058 00017E78  4B FF D2 75 */	bl GetTRKConnected
/* 8001B05C 00017E7C  2C 03 00 00 */	cmpwi r3, 0x0
/* 8001B060 00017E80  40 82 00 0C */	bne lbl_8001B06C
/* 8001B064 00017E84  38 60 00 01 */	li r3, 0x1
/* 8001B068 00017E88  48 00 00 64 */	b lbl_8001B0CC
lbl_8001B06C:
/* 8001B06C 00017E8C  80 1F 00 00 */	lwz r0, 0x0(r31)
/* 8001B070 00017E90  7F C6 F3 78 */	mr r6, r30
/* 8001B074 00017E94  38 A1 00 08 */	addi r5, r1, 0x8
/* 8001B078 00017E98  38 60 00 D0 */	li r3, 0xd0
/* 8001B07C 00017E9C  90 01 00 08 */	stw r0, 0x8(r1)
/* 8001B080 00017EA0  38 80 00 01 */	li r4, 0x1
/* 8001B084 00017EA4  4B FF F5 8D */	bl TRKAccessFile
/* 8001B088 00017EA8  54 60 06 3E */	clrlwi r0, r3, 24
/* 8001B08C 00017EAC  80 61 00 08 */	lwz r3, 0x8(r1)
/* 8001B090 00017EB0  2C 00 00 01 */	cmpwi r0, 0x1
/* 8001B094 00017EB4  90 7F 00 00 */	stw r3, 0x0(r31)
/* 8001B098 00017EB8  41 82 00 30 */	beq lbl_8001B0C8
/* 8001B09C 00017EBC  40 80 00 10 */	bge lbl_8001B0AC
/* 8001B0A0 00017EC0  2C 00 00 00 */	cmpwi r0, 0x0
/* 8001B0A4 00017EC4  40 80 00 14 */	bge lbl_8001B0B8
/* 8001B0A8 00017EC8  48 00 00 20 */	b lbl_8001B0C8
lbl_8001B0AC:
/* 8001B0AC 00017ECC  2C 00 00 03 */	cmpwi r0, 0x3
/* 8001B0B0 00017ED0  40 80 00 18 */	bge lbl_8001B0C8
/* 8001B0B4 00017ED4  48 00 00 0C */	b lbl_8001B0C0
lbl_8001B0B8:
/* 8001B0B8 00017ED8  38 60 00 00 */	li r3, 0x0
/* 8001B0BC 00017EDC  48 00 00 10 */	b lbl_8001B0CC
lbl_8001B0C0:
/* 8001B0C0 00017EE0  38 60 00 02 */	li r3, 0x2
/* 8001B0C4 00017EE4  48 00 00 08 */	b lbl_8001B0CC
lbl_8001B0C8:
/* 8001B0C8 00017EE8  38 60 00 01 */	li r3, 0x1
lbl_8001B0CC:
/* 8001B0CC 00017EEC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8001B0D0 00017EF0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8001B0D4 00017EF4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8001B0D8 00017EF8  7C 08 03 A6 */	mtlr r0
/* 8001B0DC 00017EFC  38 21 00 20 */	addi r1, r1, 0x20
/* 8001B0E0 00017F00  4E 80 00 20 */	blr

.global __read_console
__read_console:
/* 8001B0E4 00017F04  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8001B0E8 00017F08  7C 08 02 A6 */	mflr r0
/* 8001B0EC 00017F0C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8001B0F0 00017F10  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8001B0F4 00017F14  7C BF 2B 78 */	mr r31, r5
/* 8001B0F8 00017F18  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8001B0FC 00017F1C  7C 9E 23 78 */	mr r30, r4
/* 8001B100 00017F20  4B FF FF 0D */	bl GetUseSerialIO
/* 8001B104 00017F24  54 60 06 3F */	clrlwi. r0, r3, 24
/* 8001B108 00017F28  40 82 00 0C */	bne lbl_8001B114
/* 8001B10C 00017F2C  38 60 00 01 */	li r3, 0x1
/* 8001B110 00017F30  48 00 00 78 */	b lbl_8001B188
lbl_8001B114:
/* 8001B114 00017F34  4B FF D1 B9 */	bl GetTRKConnected
/* 8001B118 00017F38  2C 03 00 00 */	cmpwi r3, 0x0
/* 8001B11C 00017F3C  40 82 00 0C */	bne lbl_8001B128
/* 8001B120 00017F40  38 60 00 01 */	li r3, 0x1
/* 8001B124 00017F44  48 00 00 64 */	b lbl_8001B188
lbl_8001B128:
/* 8001B128 00017F48  80 1F 00 00 */	lwz r0, 0x0(r31)
/* 8001B12C 00017F4C  7F C6 F3 78 */	mr r6, r30
/* 8001B130 00017F50  38 A1 00 08 */	addi r5, r1, 0x8
/* 8001B134 00017F54  38 60 00 D1 */	li r3, 0xd1
/* 8001B138 00017F58  90 01 00 08 */	stw r0, 0x8(r1)
/* 8001B13C 00017F5C  38 80 00 00 */	li r4, 0x0
/* 8001B140 00017F60  4B FF F4 D1 */	bl TRKAccessFile
/* 8001B144 00017F64  54 60 06 3E */	clrlwi r0, r3, 24
/* 8001B148 00017F68  80 61 00 08 */	lwz r3, 0x8(r1)
/* 8001B14C 00017F6C  2C 00 00 01 */	cmpwi r0, 0x1
/* 8001B150 00017F70  90 7F 00 00 */	stw r3, 0x0(r31)
/* 8001B154 00017F74  41 82 00 30 */	beq lbl_8001B184
/* 8001B158 00017F78  40 80 00 10 */	bge lbl_8001B168
/* 8001B15C 00017F7C  2C 00 00 00 */	cmpwi r0, 0x0
/* 8001B160 00017F80  40 80 00 14 */	bge lbl_8001B174
/* 8001B164 00017F84  48 00 00 20 */	b lbl_8001B184
lbl_8001B168:
/* 8001B168 00017F88  2C 00 00 03 */	cmpwi r0, 0x3
/* 8001B16C 00017F8C  40 80 00 18 */	bge lbl_8001B184
/* 8001B170 00017F90  48 00 00 0C */	b lbl_8001B17C
lbl_8001B174:
/* 8001B174 00017F94  38 60 00 00 */	li r3, 0x0
/* 8001B178 00017F98  48 00 00 10 */	b lbl_8001B188
lbl_8001B17C:
/* 8001B17C 00017F9C  38 60 00 02 */	li r3, 0x2
/* 8001B180 00017FA0  48 00 00 08 */	b lbl_8001B188
lbl_8001B184:
/* 8001B184 00017FA4  38 60 00 01 */	li r3, 0x1
lbl_8001B188:
/* 8001B188 00017FA8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8001B18C 00017FAC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8001B190 00017FB0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8001B194 00017FB4  7C 08 03 A6 */	mtlr r0
/* 8001B198 00017FB8  38 21 00 20 */	addi r1, r1, 0x20
/* 8001B19C 00017FBC  4E 80 00 20 */	blr
