.include "macros.s"

.section .text, "ax"  # 0x800058A0 - 0x800764A0 ; 0x00070C00


.global __fwrite
__fwrite:
/* 8000AE08 00007C28  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8000AE0C 00007C2C  7C 08 02 A6 */	mflr r0
/* 8000AE10 00007C30  90 01 00 34 */	stw r0, 0x34(r1)
/* 8000AE14 00007C34  BF 21 00 14 */	stmw r25, 0x14(r1)
/* 8000AE18 00007C38  7C 99 23 78 */	mr r25, r4
/* 8000AE1C 00007C3C  7C DA 33 78 */	mr r26, r6
/* 8000AE20 00007C40  7C 7B 1B 78 */	mr r27, r3
/* 8000AE24 00007C44  7C BC 2B 78 */	mr r28, r5
/* 8000AE28 00007C48  38 80 00 00 */	li r4, 0x0
/* 8000AE2C 00007C4C  7F 43 D3 78 */	mr r3, r26
/* 8000AE30 00007C50  48 00 5D 6D */	bl fwide
/* 8000AE34 00007C54  2C 03 00 00 */	cmpwi r3, 0x0
/* 8000AE38 00007C58  40 82 00 10 */	bne lbl_8000AE48
/* 8000AE3C 00007C5C  7F 43 D3 78 */	mr r3, r26
/* 8000AE40 00007C60  38 80 FF FF */	li r4, -0x1
/* 8000AE44 00007C64  48 00 5D 59 */	bl fwide
lbl_8000AE48:
/* 8000AE48 00007C68  7F B9 E1 D7 */	mullw. r29, r25, r28
/* 8000AE4C 00007C6C  41 82 00 1C */	beq lbl_8000AE68
/* 8000AE50 00007C70  88 1A 00 0A */	lbz r0, 0xa(r26)
/* 8000AE54 00007C74  28 00 00 00 */	cmplwi r0, 0x0
/* 8000AE58 00007C78  40 82 00 10 */	bne lbl_8000AE68
/* 8000AE5C 00007C7C  A0 1A 00 04 */	lhz r0, 0x4(r26)
/* 8000AE60 00007C80  54 00 D7 7F */	rlwinm. r0, r0, 26, 29, 31
/* 8000AE64 00007C84  40 82 00 0C */	bne lbl_8000AE70
lbl_8000AE68:
/* 8000AE68 00007C88  38 60 00 00 */	li r3, 0x0
/* 8000AE6C 00007C8C  48 00 02 94 */	b lbl_8000B100
lbl_8000AE70:
/* 8000AE70 00007C90  28 00 00 02 */	cmplwi r0, 0x2
/* 8000AE74 00007C94  40 82 00 08 */	bne lbl_8000AE7C
/* 8000AE78 00007C98  48 00 0F 41 */	bl __stdio_atexit
lbl_8000AE7C:
/* 8000AE7C 00007C9C  88 1A 00 05 */	lbz r0, 0x5(r26)
/* 8000AE80 00007CA0  3B E0 00 01 */	li r31, 0x1
/* 8000AE84 00007CA4  38 60 00 00 */	li r3, 0x0
/* 8000AE88 00007CA8  54 00 EF FF */	rlwinm. r0, r0, 29, 31, 31
/* 8000AE8C 00007CAC  41 82 00 14 */	beq lbl_8000AEA0
/* 8000AE90 00007CB0  88 1A 00 04 */	lbz r0, 0x4(r26)
/* 8000AE94 00007CB4  54 00 FF BE */	rlwinm r0, r0, 31, 30, 31
/* 8000AE98 00007CB8  28 00 00 02 */	cmplwi r0, 0x2
/* 8000AE9C 00007CBC  40 82 00 08 */	bne lbl_8000AEA4
lbl_8000AEA0:
/* 8000AEA0 00007CC0  38 60 00 01 */	li r3, 0x1
lbl_8000AEA4:
/* 8000AEA4 00007CC4  2C 03 00 00 */	cmpwi r3, 0x0
/* 8000AEA8 00007CC8  40 82 00 18 */	bne lbl_8000AEC0
/* 8000AEAC 00007CCC  88 1A 00 04 */	lbz r0, 0x4(r26)
/* 8000AEB0 00007CD0  54 00 FF BE */	rlwinm r0, r0, 31, 30, 31
/* 8000AEB4 00007CD4  28 00 00 01 */	cmplwi r0, 0x1
/* 8000AEB8 00007CD8  41 82 00 08 */	beq lbl_8000AEC0
/* 8000AEBC 00007CDC  3B E0 00 00 */	li r31, 0x0
lbl_8000AEC0:
/* 8000AEC0 00007CE0  88 1A 00 08 */	lbz r0, 0x8(r26)
/* 8000AEC4 00007CE4  54 00 DF 7F */	rlwinm. r0, r0, 27, 29, 31
/* 8000AEC8 00007CE8  40 82 00 54 */	bne lbl_8000AF1C
/* 8000AECC 00007CEC  88 7A 00 04 */	lbz r3, 0x4(r26)
/* 8000AED0 00007CF0  54 60 EF BD */	rlwinm. r0, r3, 29, 30, 30
/* 8000AED4 00007CF4  54 63 EF 7E */	rlwinm r3, r3, 29, 29, 31
/* 8000AED8 00007CF8  41 82 00 44 */	beq lbl_8000AF1C
/* 8000AEDC 00007CFC  54 60 07 7B */	rlwinm. r0, r3, 0, 29, 29
/* 8000AEE0 00007D00  41 82 00 24 */	beq lbl_8000AF04
/* 8000AEE4 00007D04  7F 43 D3 78 */	mr r3, r26
/* 8000AEE8 00007D08  38 80 00 00 */	li r4, 0x0
/* 8000AEEC 00007D0C  38 A0 00 02 */	li r5, 0x2
/* 8000AEF0 00007D10  48 00 04 3D */	bl fseek
/* 8000AEF4 00007D14  2C 03 00 00 */	cmpwi r3, 0x0
/* 8000AEF8 00007D18  41 82 00 0C */	beq lbl_8000AF04
/* 8000AEFC 00007D1C  38 60 00 00 */	li r3, 0x0
/* 8000AF00 00007D20  48 00 02 00 */	b lbl_8000B100
lbl_8000AF04:
/* 8000AF04 00007D24  88 1A 00 08 */	lbz r0, 0x8(r26)
/* 8000AF08 00007D28  38 60 00 01 */	li r3, 0x1
/* 8000AF0C 00007D2C  50 60 2E 34 */	rlwimi r0, r3, 5, 24, 26
/* 8000AF10 00007D30  7F 43 D3 78 */	mr r3, r26
/* 8000AF14 00007D34  98 1A 00 08 */	stb r0, 0x8(r26)
/* 8000AF18 00007D38  4B FF FE 75 */	bl __prep_buffer
lbl_8000AF1C:
/* 8000AF1C 00007D3C  88 1A 00 08 */	lbz r0, 0x8(r26)
/* 8000AF20 00007D40  54 00 DF 7E */	rlwinm r0, r0, 27, 29, 31
/* 8000AF24 00007D44  28 00 00 01 */	cmplwi r0, 0x1
/* 8000AF28 00007D48  41 82 00 1C */	beq lbl_8000AF44
/* 8000AF2C 00007D4C  38 60 00 01 */	li r3, 0x1
/* 8000AF30 00007D50  38 00 00 00 */	li r0, 0x0
/* 8000AF34 00007D54  98 7A 00 0A */	stb r3, 0xa(r26)
/* 8000AF38 00007D58  38 60 00 00 */	li r3, 0x0
/* 8000AF3C 00007D5C  90 1A 00 28 */	stw r0, 0x28(r26)
/* 8000AF40 00007D60  48 00 01 C0 */	b lbl_8000B100
lbl_8000AF44:
/* 8000AF44 00007D64  28 1D 00 00 */	cmplwi r29, 0x0
/* 8000AF48 00007D68  7F 7E DB 78 */	mr r30, r27
/* 8000AF4C 00007D6C  3B 80 00 00 */	li r28, 0x0
/* 8000AF50 00007D70  41 82 01 20 */	beq lbl_8000B070
/* 8000AF54 00007D74  80 9A 00 24 */	lwz r4, 0x24(r26)
/* 8000AF58 00007D78  80 7A 00 1C */	lwz r3, 0x1c(r26)
/* 8000AF5C 00007D7C  7C 04 18 40 */	cmplw r4, r3
/* 8000AF60 00007D80  40 82 00 0C */	bne lbl_8000AF6C
/* 8000AF64 00007D84  2C 1F 00 00 */	cmpwi r31, 0x0
/* 8000AF68 00007D88  41 82 01 08 */	beq lbl_8000B070
lbl_8000AF6C:
/* 8000AF6C 00007D8C  80 1A 00 20 */	lwz r0, 0x20(r26)
/* 8000AF70 00007D90  7C 63 20 50 */	subf r3, r3, r4
/* 8000AF74 00007D94  7C 03 00 50 */	subf r0, r3, r0
/* 8000AF78 00007D98  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8000AF7C:
/* 8000AF7C 00007D9C  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 8000AF80 00007DA0  3B 60 00 00 */	li r27, 0x0
/* 8000AF84 00007DA4  7C 00 E8 40 */	cmplw r0, r29
/* 8000AF88 00007DA8  90 01 00 08 */	stw r0, 0x8(r1)
/* 8000AF8C 00007DAC  40 81 00 08 */	ble lbl_8000AF94
/* 8000AF90 00007DB0  93 A1 00 08 */	stw r29, 0x8(r1)
lbl_8000AF94:
/* 8000AF94 00007DB4  88 1A 00 04 */	lbz r0, 0x4(r26)
/* 8000AF98 00007DB8  54 00 FF BE */	rlwinm r0, r0, 31, 30, 31
/* 8000AF9C 00007DBC  28 00 00 01 */	cmplwi r0, 0x1
/* 8000AFA0 00007DC0  40 82 00 30 */	bne lbl_8000AFD0
/* 8000AFA4 00007DC4  80 A1 00 08 */	lwz r5, 0x8(r1)
/* 8000AFA8 00007DC8  28 05 00 00 */	cmplwi r5, 0x0
/* 8000AFAC 00007DCC  41 82 00 24 */	beq lbl_8000AFD0
/* 8000AFB0 00007DD0  7F C3 F3 78 */	mr r3, r30
/* 8000AFB4 00007DD4  38 80 00 0A */	li r4, 0xa
/* 8000AFB8 00007DD8  48 00 09 FD */	bl __memrchr
/* 8000AFBC 00007DDC  7C 7B 1B 79 */	mr. r27, r3
/* 8000AFC0 00007DE0  41 82 00 10 */	beq lbl_8000AFD0
/* 8000AFC4 00007DE4  38 1B 00 01 */	addi r0, r27, 0x1
/* 8000AFC8 00007DE8  7C 1E 00 50 */	subf r0, r30, r0
/* 8000AFCC 00007DEC  90 01 00 08 */	stw r0, 0x8(r1)
lbl_8000AFD0:
/* 8000AFD0 00007DF0  80 A1 00 08 */	lwz r5, 0x8(r1)
/* 8000AFD4 00007DF4  28 05 00 00 */	cmplwi r5, 0x0
/* 8000AFD8 00007DF8  41 82 00 3C */	beq lbl_8000B014
/* 8000AFDC 00007DFC  80 7A 00 24 */	lwz r3, 0x24(r26)
/* 8000AFE0 00007E00  7F C4 F3 78 */	mr r4, r30
/* 8000AFE4 00007E04  4B FF 82 05 */	bl memcpy
/* 8000AFE8 00007E08  80 61 00 08 */	lwz r3, 0x8(r1)
/* 8000AFEC 00007E0C  80 1A 00 24 */	lwz r0, 0x24(r26)
/* 8000AFF0 00007E10  7F DE 1A 14 */	add r30, r30, r3
/* 8000AFF4 00007E14  7F 9C 1A 14 */	add r28, r28, r3
/* 8000AFF8 00007E18  7C 00 1A 14 */	add r0, r0, r3
/* 8000AFFC 00007E1C  7F A3 E8 50 */	subf r29, r3, r29
/* 8000B000 00007E20  90 1A 00 24 */	stw r0, 0x24(r26)
/* 8000B004 00007E24  80 61 00 08 */	lwz r3, 0x8(r1)
/* 8000B008 00007E28  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 8000B00C 00007E2C  7C 03 00 50 */	subf r0, r3, r0
/* 8000B010 00007E30  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8000B014:
/* 8000B014 00007E34  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 8000B018 00007E38  28 00 00 00 */	cmplwi r0, 0x0
/* 8000B01C 00007E3C  41 82 00 18 */	beq lbl_8000B034
/* 8000B020 00007E40  28 1B 00 00 */	cmplwi r27, 0x0
/* 8000B024 00007E44  40 82 00 10 */	bne lbl_8000B034
/* 8000B028 00007E48  88 1A 00 04 */	lbz r0, 0x4(r26)
/* 8000B02C 00007E4C  54 00 FF BF */	rlwinm. r0, r0, 31, 30, 31
/* 8000B030 00007E50  40 82 00 30 */	bne lbl_8000B060
lbl_8000B034:
/* 8000B034 00007E54  7F 43 D3 78 */	mr r3, r26
/* 8000B038 00007E58  38 80 00 00 */	li r4, 0x0
/* 8000B03C 00007E5C  4B FF FC 8D */	bl __flush_buffer
/* 8000B040 00007E60  2C 03 00 00 */	cmpwi r3, 0x0
/* 8000B044 00007E64  41 82 00 1C */	beq lbl_8000B060
/* 8000B048 00007E68  38 60 00 01 */	li r3, 0x1
/* 8000B04C 00007E6C  38 00 00 00 */	li r0, 0x0
/* 8000B050 00007E70  98 7A 00 0A */	stb r3, 0xa(r26)
/* 8000B054 00007E74  3B A0 00 00 */	li r29, 0x0
/* 8000B058 00007E78  90 1A 00 28 */	stw r0, 0x28(r26)
/* 8000B05C 00007E7C  48 00 00 14 */	b lbl_8000B070
lbl_8000B060:
/* 8000B060 00007E80  28 1D 00 00 */	cmplwi r29, 0x0
/* 8000B064 00007E84  41 82 00 0C */	beq lbl_8000B070
/* 8000B068 00007E88  2C 1F 00 00 */	cmpwi r31, 0x0
/* 8000B06C 00007E8C  40 82 FF 10 */	bne lbl_8000AF7C
lbl_8000B070:
/* 8000B070 00007E90  28 1D 00 00 */	cmplwi r29, 0x0
/* 8000B074 00007E94  41 82 00 68 */	beq lbl_8000B0DC
/* 8000B078 00007E98  2C 1F 00 00 */	cmpwi r31, 0x0
/* 8000B07C 00007E9C  40 82 00 60 */	bne lbl_8000B0DC
/* 8000B080 00007EA0  83 7A 00 1C */	lwz r27, 0x1c(r26)
/* 8000B084 00007EA4  7C 1E EA 14 */	add r0, r30, r29
/* 8000B088 00007EA8  83 FA 00 20 */	lwz r31, 0x20(r26)
/* 8000B08C 00007EAC  7F 43 D3 78 */	mr r3, r26
/* 8000B090 00007EB0  38 81 00 08 */	addi r4, r1, 0x8
/* 8000B094 00007EB4  93 DA 00 1C */	stw r30, 0x1c(r26)
/* 8000B098 00007EB8  93 BA 00 20 */	stw r29, 0x20(r26)
/* 8000B09C 00007EBC  90 1A 00 24 */	stw r0, 0x24(r26)
/* 8000B0A0 00007EC0  4B FF FC 29 */	bl __flush_buffer
/* 8000B0A4 00007EC4  2C 03 00 00 */	cmpwi r3, 0x0
/* 8000B0A8 00007EC8  41 82 00 14 */	beq lbl_8000B0BC
/* 8000B0AC 00007ECC  38 60 00 01 */	li r3, 0x1
/* 8000B0B0 00007ED0  38 00 00 00 */	li r0, 0x0
/* 8000B0B4 00007ED4  98 7A 00 0A */	stb r3, 0xa(r26)
/* 8000B0B8 00007ED8  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8000B0BC:
/* 8000B0BC 00007EDC  80 01 00 08 */	lwz r0, 0x8(r1)
/* 8000B0C0 00007EE0  7F 43 D3 78 */	mr r3, r26
/* 8000B0C4 00007EE4  93 7A 00 1C */	stw r27, 0x1c(r26)
/* 8000B0C8 00007EE8  7F 9C 02 14 */	add r28, r28, r0
/* 8000B0CC 00007EEC  93 FA 00 20 */	stw r31, 0x20(r26)
/* 8000B0D0 00007EF0  4B FF FC BD */	bl __prep_buffer
/* 8000B0D4 00007EF4  38 00 00 00 */	li r0, 0x0
/* 8000B0D8 00007EF8  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8000B0DC:
/* 8000B0DC 00007EFC  88 1A 00 04 */	lbz r0, 0x4(r26)
/* 8000B0E0 00007F00  54 00 FF BE */	rlwinm r0, r0, 31, 30, 31
/* 8000B0E4 00007F04  28 00 00 02 */	cmplwi r0, 0x2
/* 8000B0E8 00007F08  41 82 00 0C */	beq lbl_8000B0F4
/* 8000B0EC 00007F0C  38 00 00 00 */	li r0, 0x0
/* 8000B0F0 00007F10  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8000B0F4:
/* 8000B0F4 00007F14  38 19 FF FF */	addi r0, r25, -0x1
/* 8000B0F8 00007F18  7C 1C 02 14 */	add r0, r28, r0
/* 8000B0FC 00007F1C  7C 60 CB 96 */	divwu r3, r0, r25
lbl_8000B100:
/* 8000B100 00007F20  BB 21 00 14 */	lmw r25, 0x14(r1)
/* 8000B104 00007F24  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8000B108 00007F28  7C 08 03 A6 */	mtlr r0
/* 8000B10C 00007F2C  38 21 00 30 */	addi r1, r1, 0x30
/* 8000B110 00007F30  4E 80 00 20 */	blr

.global fwrite
fwrite:
/* 8000B114 00007F34  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8000B118 00007F38  7C 08 02 A6 */	mflr r0
/* 8000B11C 00007F3C  90 01 00 14 */	stw r0, 0x14(r1)
/* 8000B120 00007F40  4B FF FC E9 */	bl __fwrite
/* 8000B124 00007F44  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8000B128 00007F48  7C 08 03 A6 */	mtlr r0
/* 8000B12C 00007F4C  38 21 00 10 */	addi r1, r1, 0x10
/* 8000B130 00007F50  4E 80 00 20 */	blr
