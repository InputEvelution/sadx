.include "macros.s"

.section .text, "ax"  # 0x800058A0 - 0x800764A0 ; 0x00070C00


.global fseek
fseek:
/* 8000B32C 0000814C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8000B330 00008150  7C 08 02 A6 */	mflr r0
/* 8000B334 00008154  90 01 00 14 */	stw r0, 0x14(r1)
/* 8000B338 00008158  48 00 00 15 */	bl _fseek
/* 8000B33C 0000815C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8000B340 00008160  7C 08 03 A6 */	mtlr r0
/* 8000B344 00008164  38 21 00 10 */	addi r1, r1, 0x10
/* 8000B348 00008168  4E 80 00 20 */	blr

.global _fseek
_fseek:
/* 8000B34C 0000816C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8000B350 00008170  7C 08 02 A6 */	mflr r0
/* 8000B354 00008174  90 01 00 24 */	stw r0, 0x24(r1)
/* 8000B358 00008178  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8000B35C 0000817C  7C BF 2B 78 */	mr r31, r5
/* 8000B360 00008180  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8000B364 00008184  7C 7E 1B 78 */	mr r30, r3
/* 8000B368 00008188  90 81 00 08 */	stw r4, 0x8(r1)
/* 8000B36C 0000818C  A0 03 00 04 */	lhz r0, 0x4(r3)
/* 8000B370 00008190  54 00 D7 7E */	rlwinm r0, r0, 26, 29, 31
/* 8000B374 00008194  28 00 00 01 */	cmplwi r0, 0x1
/* 8000B378 00008198  40 82 00 10 */	bne lbl_8000B388
/* 8000B37C 0000819C  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 8000B380 000081A0  28 00 00 00 */	cmplwi r0, 0x0
/* 8000B384 000081A4  41 82 00 14 */	beq lbl_8000B398
lbl_8000B388:
/* 8000B388 000081A8  38 00 00 28 */	li r0, 0x28
/* 8000B38C 000081AC  38 60 FF FF */	li r3, -0x1
/* 8000B390 000081B0  90 0D 82 78 */	stw r0, lbl_800C40D8@sda21(r13)
/* 8000B394 000081B4  48 00 01 DC */	b lbl_8000B570
lbl_8000B398:
/* 8000B398 000081B8  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 8000B39C 000081BC  54 00 DF 7E */	rlwinm r0, r0, 27, 29, 31
/* 8000B3A0 000081C0  28 00 00 01 */	cmplwi r0, 0x1
/* 8000B3A4 000081C4  40 82 00 34 */	bne lbl_8000B3D8
/* 8000B3A8 000081C8  38 80 00 00 */	li r4, 0x0
/* 8000B3AC 000081CC  4B FF F9 1D */	bl __flush_buffer
/* 8000B3B0 000081D0  2C 03 00 00 */	cmpwi r3, 0x0
/* 8000B3B4 000081D4  41 82 00 24 */	beq lbl_8000B3D8
/* 8000B3B8 000081D8  38 00 00 01 */	li r0, 0x1
/* 8000B3BC 000081DC  38 80 00 00 */	li r4, 0x0
/* 8000B3C0 000081E0  98 1E 00 0A */	stb r0, 0xa(r30)
/* 8000B3C4 000081E4  38 00 00 28 */	li r0, 0x28
/* 8000B3C8 000081E8  38 60 FF FF */	li r3, -0x1
/* 8000B3CC 000081EC  90 9E 00 28 */	stw r4, 0x28(r30)
/* 8000B3D0 000081F0  90 0D 82 78 */	stw r0, lbl_800C40D8@sda21(r13)
/* 8000B3D4 000081F4  48 00 01 9C */	b lbl_8000B570
lbl_8000B3D8:
/* 8000B3D8 000081F8  2C 1F 00 01 */	cmpwi r31, 0x1
/* 8000B3DC 000081FC  40 82 00 80 */	bne lbl_8000B45C
/* 8000B3E0 00008200  A0 1E 00 04 */	lhz r0, 0x4(r30)
/* 8000B3E4 00008204  3B E0 00 00 */	li r31, 0x0
/* 8000B3E8 00008208  54 00 D7 7E */	rlwinm r0, r0, 26, 29, 31
/* 8000B3EC 0000820C  28 00 00 01 */	cmplwi r0, 0x1
/* 8000B3F0 00008210  41 82 00 0C */	beq lbl_8000B3FC
/* 8000B3F4 00008214  28 00 00 02 */	cmplwi r0, 0x2
/* 8000B3F8 00008218  40 82 00 10 */	bne lbl_8000B408
lbl_8000B3FC:
/* 8000B3FC 0000821C  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 8000B400 00008220  28 00 00 00 */	cmplwi r0, 0x0
/* 8000B404 00008224  41 82 00 14 */	beq lbl_8000B418
lbl_8000B408:
/* 8000B408 00008228  38 00 00 28 */	li r0, 0x28
/* 8000B40C 0000822C  38 60 FF FF */	li r3, -0x1
/* 8000B410 00008230  90 0D 82 78 */	stw r0, lbl_800C40D8@sda21(r13)
/* 8000B414 00008234  48 00 00 3C */	b lbl_8000B450
lbl_8000B418:
/* 8000B418 00008238  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 8000B41C 0000823C  54 05 DF 7F */	rlwinm. r5, r0, 27, 29, 31
/* 8000B420 00008240  40 82 00 0C */	bne lbl_8000B42C
/* 8000B424 00008244  80 7E 00 18 */	lwz r3, 0x18(r30)
/* 8000B428 00008248  48 00 00 28 */	b lbl_8000B450
lbl_8000B42C:
/* 8000B42C 0000824C  80 7E 00 1C */	lwz r3, 0x1c(r30)
/* 8000B430 00008250  28 05 00 03 */	cmplwi r5, 0x3
/* 8000B434 00008254  80 1E 00 24 */	lwz r0, 0x24(r30)
/* 8000B438 00008258  80 9E 00 34 */	lwz r4, 0x34(r30)
/* 8000B43C 0000825C  7C 03 00 50 */	subf r0, r3, r0
/* 8000B440 00008260  7C 64 02 14 */	add r3, r4, r0
/* 8000B444 00008264  41 80 00 0C */	blt lbl_8000B450
/* 8000B448 00008268  38 05 FF FE */	addi r0, r5, -0x2
/* 8000B44C 0000826C  7C 60 18 50 */	subf r3, r0, r3
lbl_8000B450:
/* 8000B450 00008270  80 01 00 08 */	lwz r0, 0x8(r1)
/* 8000B454 00008274  7C 00 1A 14 */	add r0, r0, r3
/* 8000B458 00008278  90 01 00 08 */	stw r0, 0x8(r1)
lbl_8000B45C:
/* 8000B45C 0000827C  2C 1F 00 02 */	cmpwi r31, 0x2
/* 8000B460 00008280  41 82 00 90 */	beq lbl_8000B4F0
/* 8000B464 00008284  88 1E 00 04 */	lbz r0, 0x4(r30)
/* 8000B468 00008288  54 00 EF 7E */	rlwinm r0, r0, 29, 29, 31
/* 8000B46C 0000828C  28 00 00 03 */	cmplwi r0, 0x3
/* 8000B470 00008290  41 82 00 80 */	beq lbl_8000B4F0
/* 8000B474 00008294  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 8000B478 00008298  54 00 DF 7E */	rlwinm r0, r0, 27, 29, 31
/* 8000B47C 0000829C  28 00 00 02 */	cmplwi r0, 0x2
/* 8000B480 000082A0  41 82 00 0C */	beq lbl_8000B48C
/* 8000B484 000082A4  28 00 00 03 */	cmplwi r0, 0x3
/* 8000B488 000082A8  40 82 00 68 */	bne lbl_8000B4F0
lbl_8000B48C:
/* 8000B48C 000082AC  80 61 00 08 */	lwz r3, 0x8(r1)
/* 8000B490 000082B0  80 1E 00 18 */	lwz r0, 0x18(r30)
/* 8000B494 000082B4  7C 03 00 40 */	cmplw r3, r0
/* 8000B498 000082B8  40 80 00 10 */	bge lbl_8000B4A8
/* 8000B49C 000082BC  80 1E 00 34 */	lwz r0, 0x34(r30)
/* 8000B4A0 000082C0  7C 03 00 40 */	cmplw r3, r0
/* 8000B4A4 000082C4  40 80 00 18 */	bge lbl_8000B4BC
lbl_8000B4A8:
/* 8000B4A8 000082C8  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 8000B4AC 000082CC  38 60 00 00 */	li r3, 0x0
/* 8000B4B0 000082D0  50 60 2E 34 */	rlwimi r0, r3, 5, 24, 26
/* 8000B4B4 000082D4  98 1E 00 08 */	stb r0, 0x8(r30)
/* 8000B4B8 000082D8  48 00 00 48 */	b lbl_8000B500
lbl_8000B4BC:
/* 8000B4BC 000082DC  80 9E 00 1C */	lwz r4, 0x1c(r30)
/* 8000B4C0 000082E0  7C 00 18 50 */	subf r0, r0, r3
/* 8000B4C4 000082E4  38 60 00 02 */	li r3, 0x2
/* 8000B4C8 000082E8  7C 04 02 14 */	add r0, r4, r0
/* 8000B4CC 000082EC  90 1E 00 24 */	stw r0, 0x24(r30)
/* 8000B4D0 000082F0  80 81 00 08 */	lwz r4, 0x8(r1)
/* 8000B4D4 000082F4  80 1E 00 18 */	lwz r0, 0x18(r30)
/* 8000B4D8 000082F8  7C 04 00 50 */	subf r0, r4, r0
/* 8000B4DC 000082FC  90 1E 00 28 */	stw r0, 0x28(r30)
/* 8000B4E0 00008300  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 8000B4E4 00008304  50 60 2E 34 */	rlwimi r0, r3, 5, 24, 26
/* 8000B4E8 00008308  98 1E 00 08 */	stb r0, 0x8(r30)
/* 8000B4EC 0000830C  48 00 00 14 */	b lbl_8000B500
lbl_8000B4F0:
/* 8000B4F0 00008310  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 8000B4F4 00008314  38 60 00 00 */	li r3, 0x0
/* 8000B4F8 00008318  50 60 2E 34 */	rlwimi r0, r3, 5, 24, 26
/* 8000B4FC 0000831C  98 1E 00 08 */	stb r0, 0x8(r30)
lbl_8000B500:
/* 8000B500 00008320  88 1E 00 08 */	lbz r0, 0x8(r30)
/* 8000B504 00008324  54 00 DF 7F */	rlwinm. r0, r0, 27, 29, 31
/* 8000B508 00008328  40 82 00 64 */	bne lbl_8000B56C
/* 8000B50C 0000832C  81 9E 00 38 */	lwz r12, 0x38(r30)
/* 8000B510 00008330  28 0C 00 00 */	cmplwi r12, 0x0
/* 8000B514 00008334  41 82 00 44 */	beq lbl_8000B558
/* 8000B518 00008338  7F E5 FB 78 */	mr r5, r31
/* 8000B51C 0000833C  38 81 00 08 */	addi r4, r1, 0x8
/* 8000B520 00008340  80 7E 00 00 */	lwz r3, 0x0(r30)
/* 8000B524 00008344  80 DE 00 48 */	lwz r6, 0x48(r30)
/* 8000B528 00008348  7D 89 03 A6 */	mtctr r12
/* 8000B52C 0000834C  4E 80 04 21 */	bctrl
/* 8000B530 00008350  2C 03 00 00 */	cmpwi r3, 0x0
/* 8000B534 00008354  41 82 00 24 */	beq lbl_8000B558
/* 8000B538 00008358  38 00 00 01 */	li r0, 0x1
/* 8000B53C 0000835C  38 80 00 00 */	li r4, 0x0
/* 8000B540 00008360  98 1E 00 0A */	stb r0, 0xa(r30)
/* 8000B544 00008364  38 00 00 28 */	li r0, 0x28
/* 8000B548 00008368  38 60 FF FF */	li r3, -0x1
/* 8000B54C 0000836C  90 9E 00 28 */	stw r4, 0x28(r30)
/* 8000B550 00008370  90 0D 82 78 */	stw r0, lbl_800C40D8@sda21(r13)
/* 8000B554 00008374  48 00 00 1C */	b lbl_8000B570
lbl_8000B558:
/* 8000B558 00008378  38 60 00 00 */	li r3, 0x0
/* 8000B55C 0000837C  98 7E 00 09 */	stb r3, 0x9(r30)
/* 8000B560 00008380  80 01 00 08 */	lwz r0, 0x8(r1)
/* 8000B564 00008384  90 1E 00 18 */	stw r0, 0x18(r30)
/* 8000B568 00008388  90 7E 00 28 */	stw r3, 0x28(r30)
lbl_8000B56C:
/* 8000B56C 0000838C  38 60 00 00 */	li r3, 0x0
lbl_8000B570:
/* 8000B570 00008390  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8000B574 00008394  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8000B578 00008398  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8000B57C 0000839C  7C 08 03 A6 */	mtlr r0
/* 8000B580 000083A0  38 21 00 20 */	addi r1, r1, 0x20
/* 8000B584 000083A4  4E 80 00 20 */	blr

.global ftell
ftell:
/* 8000B588 000083A8  A0 03 00 04 */	lhz r0, 0x4(r3)
/* 8000B58C 000083AC  54 00 D7 7E */	rlwinm r0, r0, 26, 29, 31
/* 8000B590 000083B0  28 00 00 01 */	cmplwi r0, 0x1
/* 8000B594 000083B4  41 82 00 0C */	beq lbl_8000B5A0
/* 8000B598 000083B8  28 00 00 02 */	cmplwi r0, 0x2
/* 8000B59C 000083BC  40 82 00 10 */	bne lbl_8000B5AC
lbl_8000B5A0:
/* 8000B5A0 000083C0  88 03 00 0A */	lbz r0, 0xa(r3)
/* 8000B5A4 000083C4  28 00 00 00 */	cmplwi r0, 0x0
/* 8000B5A8 000083C8  41 82 00 14 */	beq lbl_8000B5BC
lbl_8000B5AC:
/* 8000B5AC 000083CC  38 00 00 28 */	li r0, 0x28
/* 8000B5B0 000083D0  38 60 FF FF */	li r3, -0x1
/* 8000B5B4 000083D4  90 0D 82 78 */	stw r0, lbl_800C40D8@sda21(r13)
/* 8000B5B8 000083D8  4E 80 00 20 */	blr
lbl_8000B5BC:
/* 8000B5BC 000083DC  88 03 00 08 */	lbz r0, 0x8(r3)
/* 8000B5C0 000083E0  54 05 DF 7F */	rlwinm. r5, r0, 27, 29, 31
/* 8000B5C4 000083E4  40 82 00 0C */	bne lbl_8000B5D0
/* 8000B5C8 000083E8  80 63 00 18 */	lwz r3, 0x18(r3)
/* 8000B5CC 000083EC  4E 80 00 20 */	blr
lbl_8000B5D0:
/* 8000B5D0 000083F0  80 83 00 1C */	lwz r4, 0x1c(r3)
/* 8000B5D4 000083F4  28 05 00 03 */	cmplwi r5, 0x3
/* 8000B5D8 000083F8  80 03 00 24 */	lwz r0, 0x24(r3)
/* 8000B5DC 000083FC  80 63 00 34 */	lwz r3, 0x34(r3)
/* 8000B5E0 00008400  7C 04 00 50 */	subf r0, r4, r0
/* 8000B5E4 00008404  7C 63 02 14 */	add r3, r3, r0
/* 8000B5E8 00008408  4D 80 00 20 */	bltlr
/* 8000B5EC 0000840C  38 05 FF FE */	addi r0, r5, -0x2
/* 8000B5F0 00008410  7C 60 18 50 */	subf r3, r0, r3
/* 8000B5F4 00008414  4E 80 00 20 */	blr
